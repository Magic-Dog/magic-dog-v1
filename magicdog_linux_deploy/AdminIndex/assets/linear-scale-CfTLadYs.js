import"./index-CJcrjWHC.js";const L=(n,t)=>Object.prototype.toString.call(n)===`[object ${t}]`,Ut=(n,t=!1)=>t?typeof n=="boolean":n===!0||n===!1||L(n,"Boolean"),Xt=n=>typeof n=="function",g=n=>n==null,M=n=>n!=null,gt=n=>{const t=typeof n;return n!==null&&t==="object"||t==="function"},Gt=n=>typeof n=="object"&&n!==null,$t=function(n){if(!Gt(n)||!L(n,"Object"))return!1;if(Object.getPrototypeOf(n)===null)return!0;let t=n;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(n)===t},tn=n=>n===void 0,mt=(n,t=!1)=>{const i=typeof n;return t?i==="string":i==="string"||L(n,"String")},A=n=>Array.isArray?Array.isArray(n):L(n,"Array"),yt=function(n){return n!==null&&typeof n!="function"&&Number.isFinite(n.length)},Yt=n=>L(n,"Date"),w=(n,t=!1)=>{const i=typeof n;return t?i==="number":i==="number"||L(n,"Number")},kt=n=>w(n)&&Number.isFinite(n),en=n=>new RegExp(/^(http(s)?:\/\/)\w+[^\s]+(\.[^\s]+){1,}$/).test(n),nn=n=>new RegExp(/^data:image\/(?:gif|png|jpeg|bmp|webp|svg\+xml)(?:;charset=utf-8)?;base64,(?:[A-Za-z0-9]|[+/])+={0,2}/g).test(n),Zt=n=>({}).toString.call(n).replace(/^\[object /,"").replace(/]$/,""),Qt=Object.prototype,Jt=function(n){const t=n&&n.constructor;return n===(typeof t=="function"&&t.prototype||Qt)},Kt=Object.prototype.hasOwnProperty;function sn(n){if(g(n))return!0;if(yt(n))return!n.length;const t=Zt(n);if(t==="Map"||t==="Set")return!n.size;if(Jt(n))return!Object.keys(n).length;for(const i in n)if(Kt.call(n,i))return!1;return!0}const rn=(n,t,i)=>{const e=mt(t)?t.split("."):t;for(let s=0;s<e.length;s++)n=n?n[e[s]]:void 0;return n===void 0?i:n},te=Object.prototype.hasOwnProperty,an=(n,t)=>n!=null&&te.call(n,t);function ee(n,t,i){let e;if(!M(n)||typeof n!="object"||t&&t(n))return n;const s=A(n),r=n.length;e=s?new Array(r):typeof n=="object"?{}:Ut(n)||w(n)||mt(n)?n:Yt(n)?new Date(+n):void 0;const a=s?void 0:Object.keys(Object(n));let h=-1;if(e)for(;++h<(a||n).length;){const o=a?a[h]:h,c=n[o];i&&i.includes(o.toString())?e[o]=c:e[o]=ee(c,t,i)}return e}function Ft(n,t,i=!1,e=!1){if(t){if(n===t)return;if(M(t)&&typeof t=="object"){const s=Object(t),r=[];for(const o in s)r.push(o);let{length:a}=r,h=-1;for(;a--;){const o=r[++h];!M(s[o])||typeof s[o]!="object"||e&&A(n[o])?vt(n,o,s[o]):ne(n,t,o,i,e)}}}}function ne(n,t,i,e=!1,s=!1){const r=n[i],a=t[i];let h=t[i],o=!0;if(A(a)){if(e)h=[];else if(A(r))h=r;else if(yt(r)){h=new Array(r.length);let c=-1;const l=r.length;for(;++c<l;)h[c]=r[c]}}else $t(a)?(h=r??{},typeof r!="function"&&typeof r=="object"||(h={})):o=!1;o&&Ft(h,a,e,s),vt(n,i,h)}function vt(n,t,i){(i!==void 0&&!ie(n[t],i)||i===void 0&&!(t in n))&&(n[t]=i)}function ie(n,t){return n===t||Number.isNaN(n)&&Number.isNaN(t)}function hn(n,...t){let i=-1;const e=t.length;for(;++i<e;)Ft(n,t[i],!0);return n}function se(n){if(!n)return[];if(Object.keys)return Object.keys(n);const t=[];for(const i in n)n.hasOwnProperty(i)&&t.push(i);return t}function re(n,t,i){const e=se(t);for(let s=0;s<e.length;s++){const r=e[s];(i?t[r]!=null:n[r]==null)&&(n[r]=t[r])}return n}function on(n,t,i=!0){if(n="prototype"in n?n.prototype:n,t="prototype"in t?t.prototype:t,Object.getOwnPropertyNames){const e=Object.getOwnPropertyNames(t);for(let s=0;s<e.length;s++){const r=e[s];r!=="constructor"&&(i?t[r]!=null:n[r]==null)&&(n[r]=t[r])}}else re(n,t,i)}function ae(n){return M(n)?A(n)?n:[n]:[]}function cn(n){if(yt(n))return n[n.length-1]}const ln=(n,t)=>{var i;if(n.length===0)return;let e=n[0];for(let s=1;s<n.length;s++){const r=n[s];((i=t==null?void 0:t(r,e))!==null&&i!==void 0?i:r-e)>0&&(e=r)}return e},un=(n,t)=>{var i;if(n.length===0)return;let e=n[0];for(let s=1;s<n.length;s++){const r=n[s];((i=t==null?void 0:t(r,e))!==null&&i!==void 0?i:r-e)<0&&(e=r)}return e};function fn(n,t){if(!A(n)||!A(t)||n.length!==t.length)return!1;for(let i=0;i<n.length;i++)if(n[i]!==t[i])return!1;return!0}function dn(n){return n&&A(n)?Array.from(new Set(ae(n))):n}function gn(n,t=Math.random){let i,e,s=n.length;for(;s;)i=Math.floor(t()*s),e=n[--s],n[s]=n[i],n[i]=e;return n}function he(n){if(!A(n))return[n];const t=[];for(const i of n)t.push(...he(i));return t}function oe(n,t,i){M(t)||(t=n,n=0),M(i)||(i=1);let e=-1;const s=0|Math.max(0,Math.ceil((t-n)/i)),r=new Array(s);for(;++e<s;)r[e]=n+e*i;return r}function ce(n,t){return n<t?-1:n>t?1:n>=t?0:NaN}function le(n){return Number(n)}const ue=typeof console<"u";function z(n,t,i){const e=[t].concat([].slice.call(i));ue&&console[n].apply(console,e)}var N;(function(n){n[n.None=0]="None",n[n.Error=1]="Error",n[n.Warn=2]="Warn",n[n.Info=3]="Info",n[n.Debug=4]="Debug"})(N||(N={}));class T{static getInstance(t,i){return T._instance&&w(t)?T._instance.level(t):T._instance||(T._instance=new T(t,i)),T._instance}static setInstance(t){return T._instance=t}static setInstanceLevel(t){T._instance?T._instance.level(t):T._instance=new T(t)}static clearInstance(){T._instance=null}constructor(t=N.None,i){this._onErrorHandler=[],this._level=t,this._method=i}addErrorHandler(t){this._onErrorHandler.find(i=>i===t)||this._onErrorHandler.push(t)}removeErrorHandler(t){const i=this._onErrorHandler.findIndex(e=>e===t);i<0||this._onErrorHandler.splice(i,1)}callErrorHandler(...t){this._onErrorHandler.forEach(i=>i(...t))}canLogInfo(){return this._level>=N.Info}canLogDebug(){return this._level>=N.Debug}canLogError(){return this._level>=N.Error}canLogWarn(){return this._level>=N.Warn}level(t){return arguments.length?(this._level=+t,this):this._level}error(...t){var i;return this._level>=N.Error&&(this._onErrorHandler.length?this.callErrorHandler(...t):z((i=this._method)!==null&&i!==void 0?i:"error","ERROR",t)),this}warn(...t){return this._level>=N.Warn&&z(this._method||"warn","WARN",t),this}info(...t){return this._level>=N.Info&&z(this._method||"log","INFO",t),this}debug(...t){return this._level>=N.Debug&&z(this._method||"log","DEBUG",t),this}}T._instance=null;function fe(n,t,i=0,e){for(g(e)&&(e=n.length);i<e;){const s=i+e>>>1;ce(n[s],t)>0?e=s:i=s+1}return i}const mn=(n,t)=>de(0,n.length,i=>t(n[i])),de=(n,t,i)=>{let e=n,s=t;for(;e<s;){const r=Math.floor((e+s)/2);i(r)>=0?s=r:e=r+1}return e},ge=1e-10,me=1e-10;function Ct(n,t,i=me,e=ge){const s=e,r=i*Math.max(n,t);return Math.abs(n-t)<=Math.max(s,r)}function yn(n,t,i,e){return n>t&&!Ct(n,t,i,e)}function pn(n,t,i,e){return n<t&&!Ct(n,t,i,e)}const V=n=>{let t=null,i=null;return(...e)=>(t&&e.every((s,r)=>s===t[r])||(t=e,i=n(...e)),i)},It=function(n,t,i){return n<t?t:n>i?i:n},Mn=(n,t,i)=>{let[e,s]=n;s<e&&(e=n[1],s=n[0]);const r=s-e;return r>=i-t?[t,i]:(e=Math.min(Math.max(e,t),i-r),[e,e+r])};function ye(n,t){let i;return n>t&&(i=n,n=t,t=i),e=>Math.max(n,Math.min(t,e))}let Y=!1;try{Y=typeof requestAnimationFrame=="function"&&typeof cancelAnimationFrame=="function"}catch{Y=!1}function pe(n,t,i){let e,s,r,a,h,o,c=0,l=!1,u=!1,f=!0;const y=!t&&t!==0&&Y;if(typeof n!="function")throw new TypeError("Expected a function");function d(_){const S=e,F=s;return e=s=void 0,c=_,a=n.apply(F,S),a}function m(_,S){return y?(cancelAnimationFrame(h),requestAnimationFrame(_)):setTimeout(_,S)}function p(_){const S=_-o;return o===void 0||S>=t||S<0||u&&_-c>=r}function x(){const _=Date.now();if(p(_))return C(_);h=m(x,function(S){const F=S-c,v=t-(S-o);return u?Math.min(v,r-F):v}(_))}function C(_){return h=void 0,f&&e?d(_):(e=s=void 0,a)}function k(..._){const S=Date.now(),F=p(S);if(e=_,s=this,o=S,F){if(h===void 0)return function(v){return c=v,h=m(x,t),l?d(v):a}(o);if(u)return h=m(x,t),d(o)}return h===void 0&&(h=m(x,t)),a}return t=+t||0,gt(i)&&(l=!!i.leading,u="maxWait"in i,u&&(r=Math.max(kt(i.maxWait)?i.maxWait:0,t)),f="trailing"in i?!!i.trailing:f),k.cancel=function(){h!==void 0&&function(_){if(y)return cancelAnimationFrame(_);clearTimeout(_)}(h),c=0,e=o=s=h=void 0},k.flush=function(){return h===void 0?a:C(Date.now())},k.pending=function(){return h!==void 0},k}Y=!1;function _n(n,t,i){let e=!0,s=!0;if(typeof n!="function")throw new TypeError("Expected a function");return gt(i)&&(e="leading"in i?!!i.leading:e,s="trailing"in i?!!i.trailing:s),pe(n,t,{leading:e,trailing:s,maxWait:t})}function H(n,t){return i=>n*(1-i)+t*i}function Me(n,t){return function(i){return Math.round(n*(1-i)+t*i)}}function _e(n,t){const i=n.valueOf(),e=t.valueOf(),s=new Date;return r=>(s.setTime(i*(1-r)+e*r),s)}const lt=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,et=new RegExp(lt.source,"g");function xe(n){return function(){return n}}function we(n){return function(t){return n(t)+""}}function xn(n,t){let i,e,s,r=lt.lastIndex=et.lastIndex=0,a=-1;const h=[],o=[];for(n+="",t+="";(i=lt.exec(n))&&(e=et.exec(t));)(s=e.index)>r&&(s=t.slice(r,s),h[a]?h[a]+=s:h[++a]=s),(i=i[0])===(e=e[0])?h[a]?h[a]+=e:h[++a]=e:(h[++a]=null,o.push({i:a,x:H(i,e)})),r=et.lastIndex;return r<t.length&&(s=t.slice(r),h[a]?h[a]+=s:h[++a]=s),h.length<2?o[0]?we(o[0].x):xe(t):(t=o.length,function(c){for(let l,u=0;u<t;++u)h[(l=o[u]).i]=l.x(c);return h.join("")})}const wn=1e-12,pt=Math.PI,Z=pt/2,q=2*pt,W=2*Math.PI,St=Math.abs,Sn=Math.atan2,Se=Math.cos,En=Math.max,Tn=Math.min,Ee=Math.sin,nt=Math.sqrt,I=Math.pow;function An(n){return n>1?0:n<-1?pt:Math.acos(n)}function bn(n){return n>=1?Z:n<=-1?-Z:Math.asin(n)}function Nn(n,t,i,e,s){let r=i,a=e;return typeof n=="number"&&typeof i=="number"&&(r=(1-s)*n+s*i),typeof t=="number"&&typeof e=="number"&&(a=(1-s)*t+s*e),{x:r,y:a}}function Et(n,t){return n[0]*t[1]-n[1]*t[0]}function Te(n,t){return St(n[0]-t[0])+St(n[1]-t[1])<1e-12}function Pt(n,t=10){return Math.round(n*t)/t}function Q(n){const t=n.toString().split(/[eE]/),i=(t[0].split(".")[1]||"").length-(+t[1]||0);return i>0?i:0}function Rn(n,t){return Pt(n+t,10**Math.max(Q(n),Q(t)))}function Bn(n,t){return Pt(n-t,10**Math.max(Q(n),Q(t)))}class Mt{constructor(t=0,i=0,e,s){this.x=0,this.y=0,this.x=t,this.y=i,this.x1=e,this.y1=s}clone(){return new Mt(this.x,this.y)}copyFrom(t){return this.x=t.x,this.y=t.y,this.x1=t.x1,this.y1=t.y1,this.defined=t.defined,this.context=t.context,this}set(t,i){return this.x=t,this.y=i,this}add(t){return w(t)?(this.x+=t,void(this.y+=t)):(this.x+=t.x,this.y+=t.y,this)}sub(t){return w(t)?(this.x-=t,void(this.y-=t)):(this.x-=t.x,this.y-=t.y,this)}multi(t){throw new Error("暂不支持")}div(t){throw new Error("暂不支持")}}class kn{static distancePP(t,i){return nt(I(t.x-i.x,2)+I(t.y-i.y,2))}static distanceNN(t,i,e,s){return nt(I(t-e,2)+I(i-s,2))}static distancePN(t,i,e){return nt(I(i-t.x,2)+I(e-t.y,2))}static pointAtPP(t,i,e){return new Mt((i.x-t.x)*e+t.x,(i.y-t.y)*e+t.y)}}function D(n){return n*(Math.PI/180)}function Ae(n){return 180*n/Math.PI}const be=(n=0)=>{if(n<0)for(;n<-q;)n+=q;else if(n>0)for(;n>q;)n-=q;return n},Fn=be;function vn(n,t,i){return t?{x:n.x+t*Math.cos(i),y:n.y+t*Math.sin(i)}:{x:n.x,y:n.y}}function Cn(n,t={x:0,y:0},i=0,e=2*Math.PI){const{x:s,y:r}=n,{x:a,y:h}=t;let o=s-a,c=r-h;const l=Math.sqrt(o*o+c*c);if(l===0)return{radius:0,angle:0};o/=l,c/=l;let u=Math.atan2(c,o);if(u<i)for(;u<=i;)u+=2*Math.PI;if(u>e)for(;u>=e;)u-=2*Math.PI;return{radius:l,angle:u}}function In(n,t){return Math.atan2(t.y-n.y,t.x-n.x)}function Lt(n){for(;n<0;)n+=2*Math.PI;for(;n>=2*Math.PI;)n-=2*Math.PI;return n}function Ne(n,t){const i=Math.abs(t-n);if(i>=2*Math.PI||2*Math.PI-i<1e-6)return[0,Math.PI/2,Math.PI,1.5*Math.PI];const e=Lt(Math.min(n,t)),s=e+i,r=[e,s];let a=Math.floor(e/Math.PI)*Math.PI/2;for(;a<s;)a>e&&r.push(a),a+=Math.PI/2;return r}function Pn(n,t,i,e){const{x:s,y:r}=t,a=Ne(i,e),{width:h,height:o}=n,c=[];return a.forEach(l=>{const u=Math.sin(l),f=Math.cos(l);u===1?c.push(o-r):u===-1?c.push(r):f===1?c.push(h-s):f===-1?c.push(s):(u>0?c.push(Math.abs((o-r)/u)):c.push(Math.abs(r/u)),f>0?c.push(Math.abs((h-s)/f)):c.push(Math.abs(s/f)))}),Math.min.apply(null,c)}function Ln(n){return(n=Lt(n))>0&&n<=Math.PI/2?2:n>Math.PI/2&&n<=Math.PI?3:n>Math.PI&&n<=3*Math.PI/2?4:1}function it(n,t,i){n[0]=t[0]-i[0],n[1]=t[1]-i[1]}function Re(n,t,i,e){let s=n[0],r=t[0],a=i[0],h=e[0];return r<s&&([s,r]=[r,s]),h<a&&([h,a]=[a,h]),!(r<a||h<s)&&(s=n[1],r=t[1],a=i[1],h=e[1],r<s&&([s,r]=[r,s]),h<a&&([h,a]=[a,h]),!(r<a||h<s))}function On(n,t,i,e){if(!Re(n,t,i,e))return!1;const s=[0,0],r=[0,0],a=[0,0];if(it(s,t,n),it(r,e,i),Te(s,r))return!0;it(a,i,n);const h=Et(a,r)/Et(s,r);return h>=0&&h<=1&&[n[0]+s[0]*h,n[1]+s[1]*h]}function Dn(n,t,i){if(n===null)return t;if(t===null)return n;const{x11:e,x12:s,y11:r,y12:a,x21:h,x22:o,y21:c,y22:l}=_t(n,t,i);return e>=o||s<=h||r>=l||a<=c?{x1:0,y1:0,x2:0,y2:0}:{x1:Math.max(e,h),y1:Math.max(r,c),x2:Math.min(s,o),y2:Math.min(a,l)}}var P;(function(n){n[n.NONE=0]="NONE",n[n.BBOX1=1]="BBOX1",n[n.BBOX2=2]="BBOX2"})(P||(P={}));const _t=(n,t,i)=>{let e=n.x1,s=n.x2,r=n.y1,a=n.y2,h=t.x1,o=t.x2,c=t.y1,l=t.y2;return i&&(e>s&&([e,s]=[s,e]),r>a&&([r,a]=[a,r]),h>o&&([h,o]=[o,h]),c>l&&([c,l]=[l,c])),{x11:e,x12:s,y11:r,y12:a,x21:h,x22:o,y21:c,y22:l}};function Hn(n,t,i){if(!n||!t)return P.NONE;const{x11:e,x12:s,y11:r,y12:a,x21:h,x22:o,y21:c,y22:l}=_t(n,t,i);return e>h&&s<o&&r>c&&a<l?P.BBOX1:h>e&&o<s&&c>r&&l<a?P.BBOX2:P.NONE}function Vn(n,t,i){if(n&&t){if(!i)return!(n.x1>t.x2||n.x2<t.x1||n.y1>t.y2||n.y2<t.y1);const{x11:e,x12:s,y11:r,y12:a,x21:h,x22:o,y21:c,y22:l}=_t(n,t,!0);return!(e>o||s<h||r>l||a<c)}return!0}function zn(n,t,i){if(!t)return!0;if(!i)return n.x>=t.x1&&n.x<=t.x2&&n.y>=t.y1&&n.y<=t.y2;let e=t.x1,s=t.x2,r=t.y1,a=t.y2;return e>s&&([e,s]=[s,e]),r>a&&([r,a]=[a,r]),n.x>=e&&n.x<=s&&n.y>=r&&n.y<=a}function st(n,t){return Math.abs(t[0]*n[0]+t[1]*n[1])}function j({x:n,y:t},i,e={x:0,y:0}){return{x:(n-e.x)*Math.cos(i)-(t-e.y)*Math.sin(i)+e.x,y:(n-e.x)*Math.sin(i)+(t-e.y)*Math.cos(i)+e.y}}function ut(n){return{x:(n.x1+n.x2)/2,y:(n.y1+n.y2)/2}}function Tt(n,t){const i=t?D(n.angle):n.angle,e=ut(n);return[j({x:n.x1,y:n.y1},i,e),j({x:n.x2,y:n.y1},i,e),j({x:n.x2,y:n.y2},i,e),j({x:n.x1,y:n.y2},i,e)]}function Be(n,t,i=!1){const e=Tt(n,i),s=Tt(t,i),r=(p,x)=>[x.x-p.x,x.y-p.y],a=r(ut(n),ut(t)),h=r(e[0],e[1]),o=r(e[1],e[2]),c=r(s[0],s[1]),l=r(s[1],s[2]),u=i?D(n.angle):n.angle;let f=i?D(90-n.angle):n.angle+Z;const y=i?D(t.angle):t.angle;let d=i?D(90-t.angle):t.angle+Z;f>W&&(f-=W),d>W&&(d-=W);const m=(p,x,C,k)=>{const _=[Math.cos(x),Math.sin(x)];return p+(st(_,C)+st(_,k))/2>st(_,a)};return m((n.x2-n.x1)/2,u,c,l)&&m((n.y2-n.y1)/2,f,c,l)&&m((t.x2-t.x1)/2,y,h,o)&&m((t.y2-t.y1)/2,d,h,o)}const At=n=>{let t=n.charCodeAt(0),i=n.length===2?n.charCodeAt(1):0,e=t;return 55296<=t&&t<=56319&&56320<=i&&i<=57343&&(t&=1023,i&=1023,e=t<<10|i,e+=65536),e===12288||65281<=e&&e<=65376||65504<=e&&e<=65510?"F":e===8361||65377<=e&&e<=65470||65474<=e&&e<=65479||65482<=e&&e<=65487||65490<=e&&e<=65495||65498<=e&&e<=65500||65512<=e&&e<=65518?"H":4352<=e&&e<=4447||4515<=e&&e<=4519||4602<=e&&e<=4607||9001<=e&&e<=9002||11904<=e&&e<=11929||11931<=e&&e<=12019||12032<=e&&e<=12245||12272<=e&&e<=12283||12289<=e&&e<=12350||12353<=e&&e<=12438||12441<=e&&e<=12543||12549<=e&&e<=12589||12593<=e&&e<=12686||12688<=e&&e<=12730||12736<=e&&e<=12771||12784<=e&&e<=12830||12832<=e&&e<=12871||12880<=e&&e<=13054||13056<=e&&e<=19903||19968<=e&&e<=42124||42128<=e&&e<=42182||43360<=e&&e<=43388||44032<=e&&e<=55203||55216<=e&&e<=55238||55243<=e&&e<=55291||63744<=e&&e<=64255||65040<=e&&e<=65049||65072<=e&&e<=65106||65108<=e&&e<=65126||65128<=e&&e<=65131||110592<=e&&e<=110593||127488<=e&&e<=127490||127504<=e&&e<=127546||127552<=e&&e<=127560||127568<=e&&e<=127569||131072<=e&&e<=194367||177984<=e&&e<=196605||196608<=e&&e<=262141?"W":32<=e&&e<=126||162<=e&&e<=163||165<=e&&e<=166||e===172||e===175||10214<=e&&e<=10221||10629<=e&&e<=10630?"Na":e===161||e===164||167<=e&&e<=168||e===170||173<=e&&e<=174||176<=e&&e<=180||182<=e&&e<=186||188<=e&&e<=191||e===198||e===208||215<=e&&e<=216||222<=e&&e<=225||e===230||232<=e&&e<=234||236<=e&&e<=237||e===240||242<=e&&e<=243||247<=e&&e<=250||e===252||e===254||e===257||e===273||e===275||e===283||294<=e&&e<=295||e===299||305<=e&&e<=307||e===312||319<=e&&e<=322||e===324||328<=e&&e<=331||e===333||338<=e&&e<=339||358<=e&&e<=359||e===363||e===462||e===464||e===466||e===468||e===470||e===472||e===474||e===476||e===593||e===609||e===708||e===711||713<=e&&e<=715||e===717||e===720||728<=e&&e<=731||e===733||e===735||768<=e&&e<=879||913<=e&&e<=929||931<=e&&e<=937||945<=e&&e<=961||963<=e&&e<=969||e===1025||1040<=e&&e<=1103||e===1105||e===8208||8211<=e&&e<=8214||8216<=e&&e<=8217||8220<=e&&e<=8221||8224<=e&&e<=8226||8228<=e&&e<=8231||e===8240||8242<=e&&e<=8243||e===8245||e===8251||e===8254||e===8308||e===8319||8321<=e&&e<=8324||e===8364||e===8451||e===8453||e===8457||e===8467||e===8470||8481<=e&&e<=8482||e===8486||e===8491||8531<=e&&e<=8532||8539<=e&&e<=8542||8544<=e&&e<=8555||8560<=e&&e<=8569||e===8585||8592<=e&&e<=8601||8632<=e&&e<=8633||e===8658||e===8660||e===8679||e===8704||8706<=e&&e<=8707||8711<=e&&e<=8712||e===8715||e===8719||e===8721||e===8725||e===8730||8733<=e&&e<=8736||e===8739||e===8741||8743<=e&&e<=8748||e===8750||8756<=e&&e<=8759||8764<=e&&e<=8765||e===8776||e===8780||e===8786||8800<=e&&e<=8801||8804<=e&&e<=8807||8810<=e&&e<=8811||8814<=e&&e<=8815||8834<=e&&e<=8835||8838<=e&&e<=8839||e===8853||e===8857||e===8869||e===8895||e===8978||9312<=e&&e<=9449||9451<=e&&e<=9547||9552<=e&&e<=9587||9600<=e&&e<=9615||9618<=e&&e<=9621||9632<=e&&e<=9633||9635<=e&&e<=9641||9650<=e&&e<=9651||9654<=e&&e<=9655||9660<=e&&e<=9661||9664<=e&&e<=9665||9670<=e&&e<=9672||e===9675||9678<=e&&e<=9681||9698<=e&&e<=9701||e===9711||9733<=e&&e<=9734||e===9737||9742<=e&&e<=9743||9748<=e&&e<=9749||e===9756||e===9758||e===9792||e===9794||9824<=e&&e<=9825||9827<=e&&e<=9829||9831<=e&&e<=9834||9836<=e&&e<=9837||e===9839||9886<=e&&e<=9887||9918<=e&&e<=9919||9924<=e&&e<=9933||9935<=e&&e<=9953||e===9955||9960<=e&&e<=9983||e===10045||e===10071||10102<=e&&e<=10111||11093<=e&&e<=11097||12872<=e&&e<=12879||57344<=e&&e<=63743||65024<=e&&e<=65039||e===65533||127232<=e&&e<=127242||127248<=e&&e<=127277||127280<=e&&e<=127337||127344<=e&&e<=127386||917760<=e&&e<=917999||983040<=e&&e<=1048573||1048576<=e&&e<=1114109?"A":"N"};function ke(n,t={},i){i||(i=1);const{fontStyle:e=t.fontStyle,fontVariant:s=t.fontVariant,fontWeight:r=t.fontWeight,fontSize:a=t.fontSize,fontFamily:h=t.fontFamily}=n;return(e?e+" ":"")+(s?s+" ":"")+(r?r+" ":"")+a*i+"px "+(h||"sans-serif")}class B{constructor(t,i){this._numberCharSize=null,this._fullCharSize=null,this._letterCharSize=null,this._specialCharSizeMap={},this._canvas=null,this._context=null,this._contextSaved=!1,this._notSupportCanvas=!1,this._notSupportVRender=!1,this._userSpec={},this.specialCharSet=`-/: .,@%'"~`,this._option=t,this._userSpec=i??{},this.textSpec=this._initSpec(),M(t.specialCharSet)&&(this.specialCharSet=t.specialCharSet),this._standardMethod=M(t.getTextBounds)?this.fullMeasure.bind(this):this.measureWithNaiveCanvas.bind(this)}initContext(){if(this._notSupportCanvas)return!1;if(g(this._canvas)&&(M(this._option.getCanvasForMeasure)&&(this._canvas=this._option.getCanvasForMeasure()),g(this._canvas)&&typeof window<"u"&&window.document!==void 0&&globalThis&&M(globalThis.document)&&(this._canvas=globalThis.document.createElement("canvas"))),g(this._context)&&M(this._canvas)){const t=this._canvas.getContext("2d");M(t)&&(t.save(),t.font=ke(this.textSpec),this._contextSaved=!0,this._context=t)}return!g(this._context)||(this._notSupportCanvas=!0,!1)}_initSpec(){var t,i,e;const{defaultFontParams:s={}}=this._option,{fontStyle:r=s.fontStyle,fontVariant:a=s.fontVariant,fontWeight:h=(t=s.fontWeight)!==null&&t!==void 0?t:"normal",fontSize:o=(i=s.fontSize)!==null&&i!==void 0?i:12,fontFamily:c=(e=s.fontFamily)!==null&&e!==void 0?e:"sans-serif",align:l,textAlign:u=l??"center",baseline:f,textBaseline:y=f??"middle",ellipsis:d,limit:m}=this._userSpec;let{lineHeight:p=o}=this._userSpec;if(mt(p)&&p[p.length-1]==="%"){const x=Number.parseFloat(p.substring(0,p.length-1))/100;p=o*x}return{fontStyle:r,fontVariant:a,fontFamily:c,fontSize:o,fontWeight:h,textAlign:u,textBaseline:y,ellipsis:d,limit:m,lineHeight:p}}measure(t,i){switch(i){case"vrender":case"canopus":return this.fullMeasure(t);case"canvas":return this.measureWithNaiveCanvas(t);case"simple":return this.quickMeasureWithoutCanvas(t);default:return this.quickMeasure(t)}}fullMeasure(t){if(g(t))return{width:0,height:0};if(g(this._option.getTextBounds)||!this._notSupportVRender)return this.measureWithNaiveCanvas(t);const{fontFamily:i,fontSize:e,fontWeight:s,textAlign:r,textBaseline:a,ellipsis:h,limit:o,lineHeight:c}=this.textSpec;let l;try{const u=this._option.getTextBounds({text:t,fontFamily:i,fontSize:e,fontWeight:s,textAlign:r,textBaseline:a,ellipsis:!!h,maxLineWidth:o||1/0,lineHeight:c});l={width:u.width(),height:u.height()}}catch{this._notSupportVRender=!0,l=this.measureWithNaiveCanvas(t)}return l}measureWithNaiveCanvas(t){return this._measureReduce(t,this._measureWithNaiveCanvas.bind(this))}_measureWithNaiveCanvas(t){var i;if(!this.initContext())return this._quickMeasureWithoutCanvas(t);const e=this._context.measureText(t),{fontSize:s,lineHeight:r}=this.textSpec;return{width:e.width,height:(i=r)!==null&&i!==void 0?i:s,fontBoundingBoxAscent:e.fontBoundingBoxAscent,fontBoundingBoxDescent:e.fontBoundingBoxDescent}}quickMeasure(t){return this._measureReduce(t,this._quickMeasure.bind(this))}_quickMeasure(t){const i={width:0,height:0};for(let e=0;e<t.length;e++){const s=t[e];let r=this._measureSpecialChar(s);g(r)&&B.NUMBERS_CHAR_SET.includes(s)&&(r=this._measureNumberChar()),g(r)&&["F","W"].includes(At(s))&&(r=this._measureFullSizeChar()),g(r)&&(r=this._measureLetterChar()),i.width+=r.width,i.height=Math.max(i.height,r.height),!g(r.fontBoundingBoxAscent)&&(i.fontBoundingBoxAscent=r.fontBoundingBoxAscent),!g(r.fontBoundingBoxDescent)&&(i.fontBoundingBoxDescent=r.fontBoundingBoxDescent)}return i}quickMeasureWithoutCanvas(t){return this._measureReduce(t,this._quickMeasureWithoutCanvas.bind(this))}_quickMeasureWithoutCanvas(t){var i;const e={width:0,height:0},{fontSize:s,lineHeight:r}=this.textSpec;for(let a=0;a<t.length;a++){const h=t[a],o=["F","W"].includes(At(h))?1:.53;e.width+=o*s}return e.height=(i=r)!==null&&i!==void 0?i:s,e}_measureReduce(t,i){var e;const{fontSize:s,lineHeight:r}=this.textSpec,a={width:0,height:0};if(g(t))return a;if(A(t)){const h=t.filter(M).map(o=>o.toString());return h.length===0?a:h.length===1?i(h[0]):{width:h.reduce((o,c)=>Math.max(o,i(c).width),0),height:h.length*(((e=r)!==null&&e!==void 0?e:s)+1)+1}}return i(t.toString())}_measureNumberChar(){if(g(this._numberCharSize)){const t=this._standardMethod(B.NUMBERS_CHAR_SET);this._numberCharSize={width:t.width/B.NUMBERS_CHAR_SET.length,height:t.height,fontBoundingBoxAscent:t.fontBoundingBoxAscent,fontBoundingBoxDescent:t.fontBoundingBoxDescent}}return this._numberCharSize}_measureFullSizeChar(){return g(this._fullCharSize)&&(this._fullCharSize=this._standardMethod(B.FULL_SIZE_CHAR)),this._fullCharSize}_measureLetterChar(){if(g(this._letterCharSize)){const t=this._standardMethod(B.ALPHABET_CHAR_SET);this._letterCharSize={width:t.width/B.ALPHABET_CHAR_SET.length,height:t.height,fontBoundingBoxAscent:t.fontBoundingBoxAscent,fontBoundingBoxDescent:t.fontBoundingBoxDescent}}return this._letterCharSize}_measureSpecialChar(t){return M(this._specialCharSizeMap[t])?this._specialCharSizeMap[t]:this.specialCharSet.includes(t)?(this._specialCharSizeMap[t]=this._standardMethod(t),this._specialCharSizeMap[t]):null}release(){M(this._canvas)&&(this._canvas=null),M(this._context)&&(this._contextSaved&&(this._context.restore(),this._contextSaved=!1),this._context=null)}}B.ALPHABET_CHAR_SET="abcdefghijklmnopqrstuvwxyz",B.NUMBERS_CHAR_SET="0123456789",B.FULL_SIZE_CHAR="字";function Fe(n,t,i){const{x1:e,y1:s,x2:r,y2:a}=t;return i.onlyTranslate()?(n!==t&&n.setValue(t.x1,t.y1,t.x2,t.y2),n.translate(i.e,i.f),t):(n.clear(),n.add(i.a*e+i.c*s+i.e,i.b*e+i.d*s+i.f),n.add(i.a*r+i.c*s+i.e,i.b*r+i.d*s+i.f),n.add(i.a*r+i.c*a+i.e,i.b*r+i.d*a+i.f),n.add(i.a*e+i.c*a+i.e,i.b*e+i.d*a+i.f),t)}class tt{constructor(t){t?this.setValue(t.x1,t.y1,t.x2,t.y2):this.clear()}clone(){return new tt(this)}clear(){return this.x1=+Number.MAX_VALUE,this.y1=+Number.MAX_VALUE,this.x2=-Number.MAX_VALUE,this.y2=-Number.MAX_VALUE,this}empty(){return this.x1===+Number.MAX_VALUE&&this.y1===+Number.MAX_VALUE&&this.x2===-Number.MAX_VALUE&&this.y2===-Number.MAX_VALUE}equals(t){return this.x1===t.x1&&this.y1===t.y1&&this.x2===t.x2&&this.y2===t.y2}setValue(t=0,i=0,e=0,s=0){return this.x1=t,this.y1=i,this.x2=e,this.y2=s,this}set(t=0,i=0,e=0,s=0){return e<t?(this.x2=t,this.x1=e):(this.x1=t,this.x2=e),s<i?(this.y2=i,this.y1=s):(this.y1=i,this.y2=s),this}add(t=0,i=0){return t<this.x1&&(this.x1=t),i<this.y1&&(this.y1=i),t>this.x2&&(this.x2=t),i>this.y2&&(this.y2=i),this}expand(t=0){return A(t)?(this.y1-=t[0],this.x2+=t[1],this.y2+=t[2],this.x1-=t[3]):(this.x1-=t,this.y1-=t,this.x2+=t,this.y2+=t),this}round(){return this.x1=Math.floor(this.x1),this.y1=Math.floor(this.y1),this.x2=Math.ceil(this.x2),this.y2=Math.ceil(this.y2),this}translate(t=0,i=0){return this.x1+=t,this.x2+=t,this.y1+=i,this.y2+=i,this}rotate(t=0,i=0,e=0){const s=this.rotatedPoints(t,i,e);return this.clear().add(s[0],s[1]).add(s[2],s[3]).add(s[4],s[5]).add(s[6],s[7])}scale(t=0,i=0,e=0,s=0){const r=this.scalePoints(t,i,e,s);return this.clear().add(r[0],r[1]).add(r[2],r[3])}union(t){return t.x1<this.x1&&(this.x1=t.x1),t.y1<this.y1&&(this.y1=t.y1),t.x2>this.x2&&(this.x2=t.x2),t.y2>this.y2&&(this.y2=t.y2),this}intersect(t){return t.x1>this.x1&&(this.x1=t.x1),t.y1>this.y1&&(this.y1=t.y1),t.x2<this.x2&&(this.x2=t.x2),t.y2<this.y2&&(this.y2=t.y2),this}encloses(t){return t&&this.x1<=t.x1&&this.x2>=t.x2&&this.y1<=t.y1&&this.y2>=t.y2}alignsWith(t){return t&&(this.x1===t.x1||this.x2===t.x2||this.y1===t.y1||this.y2===t.y2)}intersects(t){return t&&!(this.x2<t.x1||this.x1>t.x2||this.y2<t.y1||this.y1>t.y2)}contains(t=0,i=0){return!(t<this.x1||t>this.x2||i<this.y1||i>this.y2)}containsPoint(t){return!(t.x<this.x1||t.x>this.x2||t.y<this.y1||t.y>this.y2)}width(){return this.empty()?0:this.x2-this.x1}height(){return this.empty()?0:this.y2-this.y1}scaleX(t=0){return this.x1*=t,this.x2*=t,this}scaleY(t=0){return this.y1*=t,this.y2*=t,this}transformWithMatrix(t){return Fe(this,this,t),this}copy(t){return this.x1=t.x1,this.y1=t.y1,this.x2=t.x2,this.y2=t.y2,this}rotatedPoints(t,i,e){const{x1:s,y1:r,x2:a,y2:h}=this,o=Math.cos(t),c=Math.sin(t),l=i-i*o+e*c,u=e-i*c-e*o;return[o*s-c*r+l,c*s+o*r+u,o*s-c*h+l,c*s+o*h+u,o*a-c*r+l,c*a+o*r+u,o*a-c*h+l,c*a+o*h+u]}scalePoints(t,i,e,s){const{x1:r,y1:a,x2:h,y2:o}=this;return[t*r+(1-t)*e,i*a+(1-i)*s,t*h+(1-t)*e,i*o+(1-i)*s]}}class qn extends tt{}class Ot extends tt{constructor(t,i=0){var e;super(t),t&&(this.angle=(e=t.angle)!==null&&e!==void 0?e:i)}intersects(t){return Be(this,t)}setValue(t=0,i=0,e=0,s=0,r=0){return super.setValue(t,i,e,s),this.angle=r,this}clone(){return new Ot(this)}}class G{constructor(t=1,i=0,e=0,s=1,r=0,a=0){this.a=t,this.b=i,this.c=e,this.d=s,this.e=r,this.f=a}equalToMatrix(t){return!(this.e!==t.e||this.f!==t.f||this.a!==t.a||this.d!==t.d||this.b!==t.b||this.c!==t.c)}equalTo(t,i,e,s,r,a){return!(this.e!==r||this.f!==a||this.a!==t||this.d!==s||this.b!==i||this.c!==e)}setValue(t,i,e,s,r,a){return this.a=t,this.b=i,this.c=e,this.d=s,this.e=r,this.f=a,this}reset(){return this.a=1,this.b=0,this.c=0,this.d=1,this.e=0,this.f=0,this}getInverse(){const t=this.a,i=this.b,e=this.c,s=this.d,r=this.e,a=this.f,h=new G,o=t*s-i*e;return h.a=s/o,h.b=-i/o,h.c=-e/o,h.d=t/o,h.e=(e*a-s*r)/o,h.f=-(t*a-i*r)/o,h}rotate(t){const i=Math.cos(t),e=Math.sin(t),s=this.a*i+this.c*e,r=this.b*i+this.d*e,a=this.a*-e+this.c*i,h=this.b*-e+this.d*i;return this.a=s,this.b=r,this.c=a,this.d=h,this}rotateByCenter(t,i,e){const s=Math.cos(t),r=Math.sin(t),a=(1-s)*i+r*e,h=(1-s)*e-r*i,o=s*this.a-r*this.b,c=r*this.a+s*this.b,l=s*this.c-r*this.d,u=r*this.c+s*this.d,f=s*this.e-r*this.f+a,y=r*this.e+s*this.f+h;return this.a=o,this.b=c,this.c=l,this.d=u,this.e=f,this.f=y,this}scale(t,i){return this.a*=t,this.b*=t,this.c*=i,this.d*=i,this}setScale(t,i){return this.b=this.b/this.a*t,this.c=this.c/this.d*i,this.a=t,this.d=i,this}transform(t,i,e,s,r,a){return this.multiply(t,i,e,s,r,a),this}translate(t,i){return this.e+=this.a*t+this.c*i,this.f+=this.b*t+this.d*i,this}transpose(){const{a:t,b:i,c:e,d:s,e:r,f:a}=this;return this.a=i,this.b=t,this.c=s,this.d=e,this.e=a,this.f=r,this}multiply(t,i,e,s,r,a){const h=this.a,o=this.b,c=this.c,l=this.d,u=h*t+c*i,f=o*t+l*i,y=h*e+c*s,d=o*e+l*s,m=h*r+c*a+this.e,p=o*r+l*a+this.f;return this.a=u,this.b=f,this.c=y,this.d=d,this.e=m,this.f=p,this}interpolate(t,i){const e=new G;return e.a=this.a+(t.a-this.a)*i,e.b=this.b+(t.b-this.b)*i,e.c=this.c+(t.c-this.c)*i,e.d=this.d+(t.d-this.d)*i,e.e=this.e+(t.e-this.e)*i,e.f=this.f+(t.f-this.f)*i,e}transformPoint(t,i){const{a:e,b:s,c:r,d:a,e:h,f:o}=this,c=e*a-s*r,l=a/c,u=-s/c,f=-r/c,y=e/c,d=(r*o-a*h)/c,m=-(e*o-s*h)/c,{x:p,y:x}=t;i.x=p*l+x*f+d,i.y=p*u+x*y+m}onlyTranslate(t=1){return this.a===t&&this.b===0&&this.c===0&&this.d===t}clone(){return new G(this.a,this.b,this.c,this.d,this.e,this.f)}toTransformAttrs(){const t=this.a,i=this.b,e=this.c,s=this.d,r=t*s-i*e,a={x:this.e,y:this.f,rotateDeg:0,scaleX:0,scaleY:0,skewX:0,skewY:0};if(t!==0||i!==0){const h=Math.sqrt(t*t+i*i);a.rotateDeg=i>0?Math.acos(t/h):-Math.acos(t/h),a.scaleX=h,a.scaleY=r/h,a.skewX=(t*e+i*s)/r,a.skewY=0}else if(e!==0||s!==0){const h=Math.sqrt(e*e+s*s);a.rotateDeg=Math.PI/2-(s>0?Math.acos(-e/h):-Math.acos(e/h)),a.scaleX=r/h,a.scaleY=h,a.skewX=0,a.skewY=(t*e+i*s)/r}return a.rotateDeg=Ae(a.rotateDeg),a}}function Wn(n,t,i,e,s,r,a,h){const o=t.a,c=t.b,l=t.c,u=t.d,f=t.e,y=t.f,d=Se(a),m=Ee(a);let p,x;h?(p=h[0],x=h[1]):(p=i,x=e);const C=p-i,k=x-e,_=o*d+l*m,S=c*d+u*m,F=l*d-o*m,v=u*d-c*m;n.a=s*_,n.b=s*S,n.c=r*F,n.d=r*v,n.e=f+o*p+l*x-_*C-F*k,n.f=y+c*p+u*x-S*C-v*k}class jn{constructor(){this.CLEAN_THRESHOLD=1e3,this.L_TIME=1e3,this.R_COUNT=1,this.R_TIMESTAMP_MAX_SIZE=20}clearCache(t,i){const{CLEAN_THRESHOLD:e=this.CLEAN_THRESHOLD,L_TIME:s=this.L_TIME,R_COUNT:r=this.R_COUNT}=i;if(t.size<e)return 0;let a=0;const h=c=>{a++,t.delete(c)},o=Date.now();return t.forEach((c,l)=>{if(c.timestamp.length<r)return h(l);let u=0;for(;o-c.timestamp[c.timestamp.length-1-u]<s&&(u++,!(u>=r)););if(u<r)return h(l);for(;o-c.timestamp[0]>s;)c.timestamp.shift()}),a}addLimitedTimestamp(t,i,e){const{R_TIMESTAMP_MAX_SIZE:s=this.R_TIMESTAMP_MAX_SIZE}=e;t.timestamp.length>s&&t.timestamp.shift(),t.timestamp.push(i)}clearTimeStamp(t,i){const{L_TIME:e=this.L_TIME}=i,s=Date.now();t.forEach(r=>{for(;s-r.timestamp[0]>e;)r.timestamp.shift()})}clearItemTimestamp(t,i){const{L_TIME:e=this.L_TIME}=i,s=Date.now();for(;s-t.timestamp[0]>e;)t.timestamp.shift()}}function ft(n,t,i){t/=100,i/=100;const e=(1-Math.abs(2*i-1))*t,s=e*(1-Math.abs(n/60%2-1)),r=i-e/2;let a=0,h=0,o=0;return 0<=n&&n<60?(a=e,h=s,o=0):60<=n&&n<120?(a=s,h=e,o=0):120<=n&&n<180?(a=0,h=e,o=s):180<=n&&n<240?(a=0,h=s,o=e):240<=n&&n<300?(a=s,h=0,o=e):300<=n&&n<360&&(a=e,h=0,o=s),a=Math.round(255*(a+r)),h=Math.round(255*(h+r)),o=Math.round(255*(o+r)),{r:a,g:h,b:o}}function xt(n,t,i){n/=255,t/=255,i/=255;const e=Math.min(n,t,i),s=Math.max(n,t,i),r=s-e;let a=0,h=0,o=0;return a=r===0?0:s===n?(t-i)/r%6:s===t?(i-n)/r+2:(n-t)/r+4,a=Math.round(60*a),a<0&&(a+=360),o=(s+e)/2,h=r===0?0:r/(1-Math.abs(2*o-1)),h=+(100*h).toFixed(1),o=+(100*o).toFixed(1),{h:a,s:h,l:o}}const ve=/^#([0-9a-f]{3,8})$/,bt={transparent:4294967040},$={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function U(n){return((n=Math.max(0,Math.min(255,Math.round(n)||0)))<16?"0":"")+n.toString(16)}function Dt(n){return w(n)?new E(n>>16,n>>8&255,255&n,1):A(n)?new E(n[0],n[1],n[2]):new E(255,255,255)}function Ce(n){return w(n)?new E(n>>>24,n>>>16&255,n>>>8&255,255&n):A(n)?new E(n[0],n[1],n[2],n[3]):new E(255,255,255,1)}function rt(n){return n<.04045?.0773993808*n:Math.pow(.9478672986*n+.0521327014,2.4)}function at(n){return n<.0031308?12.92*n:1.055*Math.pow(n,.41666)-.055}const Nt=(n,t)=>{const i=ve.exec(n);if(t||i){const e=parseInt(i[1],16),s=i[1].length;return s===3?new E((e>>8&15)+((e>>8&15)<<4),(e>>4&15)+((e>>4&15)<<4),(15&e)+((15&e)<<4),1):s===6?Dt(e):s===8?new E(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):null}};class R{static Brighter(t,i=1){return i===1?t:new R(t).brighter(i).toRGBA()}static SetOpacity(t,i=1){return i===1?t:new R(t).setOpacity(i).toRGBA()}static getColorBrightness(t,i="hsl"){const e=t instanceof R?t:new R(t);switch(i){case"hsv":default:return e.getHSVBrightness();case"hsl":return e.getHSLBrightness();case"lum":return e.getLuminance();case"lum2":return e.getLuminance2();case"lum3":return e.getLuminance3()}}static parseColorString(t){if(M(bt[t]))return Ce(bt[t]);if(M($[t]))return Dt($[t]);const i=`${t}`.trim().toLowerCase(),e=Nt(i);if(e!==void 0)return e;if(/^(rgb|RGB|rgba|RGBA)/.test(i)){const s=i.replace(/(?:\(|\)|rgba|RGBA|rgb|RGB)*/g,"").split(",");return new E(parseInt(s[0],10),parseInt(s[1],10),parseInt(s[2],10),parseFloat(s[3]))}if(/^(hsl|HSL|hsla|HSLA)/.test(i)){const s=i.replace(/(?:\(|\)|hsla|HSLA|hsl|HSL)*/g,"").split(","),r=ft(parseInt(s[0],10),parseInt(s[1],10),parseInt(s[2],10));return new E(r.r,r.g,r.b,parseFloat(s[3]))}}constructor(t){const i=R.parseColorString(t);i?this.color=i:(console.warn(`Warn: 传入${t}无法解析为Color`),this.color=new E(255,255,255))}toRGBA(){return this.color.formatRgb()}toString(){return this.color.formatRgb()}toHex(){return this.color.formatHex()}toHsl(){return this.color.formatHsl()}brighter(t){const{r:i,g:e,b:s}=this.color;return this.color.r=Math.max(0,Math.min(255,Math.floor(i*t))),this.color.g=Math.max(0,Math.min(255,Math.floor(e*t))),this.color.b=Math.max(0,Math.min(255,Math.floor(s*t))),this}add(t){const{r:i,g:e,b:s}=this.color;return this.color.r+=Math.min(255,i+t.color.r),this.color.g+=Math.min(255,e+t.color.g),this.color.b+=Math.min(255,s+t.color.b),this}sub(t){return this.color.r=Math.max(0,this.color.r-t.color.r),this.color.g=Math.max(0,this.color.g-t.color.g),this.color.b=Math.max(0,this.color.b-t.color.b),this}multiply(t){const{r:i,g:e,b:s}=this.color;return this.color.r=Math.max(0,Math.min(255,Math.floor(i*t.color.r))),this.color.g=Math.max(0,Math.min(255,Math.floor(e*t.color.g))),this.color.b=Math.max(0,Math.min(255,Math.floor(s*t.color.b))),this}getHSVBrightness(){return Math.max(this.color.r,this.color.g,this.color.b)/255}getHSLBrightness(){return .5*(Math.max(this.color.r,this.color.g,this.color.b)/255+Math.min(this.color.r,this.color.g,this.color.b)/255)}setHsl(t,i,e){const s=this.color.opacity,r=xt(this.color.r,this.color.g,this.color.b),a=ft(g(t)?r.h:It(t,0,360),g(i)?r.s:i>=0&&i<=1?100*i:i,g(e)?r.l:e<=1&&e>=0?100*e:e);return this.color=new E(a.r,a.g,a.b,s),this}setRGB(t,i,e){return!g(t)&&(this.color.r=t),!g(i)&&(this.color.g=i),!g(e)&&(this.color.b=e),this}setHex(t){const i=`${t}`.trim().toLowerCase(),e=Nt(i,!0);return e??this}setColorName(t){const i=$[t.toLowerCase()];return i!==void 0?this.setHex(i):console.warn("THREE.Color: Unknown color "+t),this}setScalar(t){return this.color.r=t,this.color.g=t,this.color.b=t,this}setOpacity(t=1){return this.color.opacity=t,this}getLuminance(){return(.2126*this.color.r+.7152*this.color.g+.0722*this.color.b)/255}getLuminance2(){return(.2627*this.color.r+.678*this.color.g+.0593*this.color.b)/255}getLuminance3(){return(.299*this.color.r+.587*this.color.g+.114*this.color.b)/255}clone(){return new R(this.color.toString())}copyGammaToLinear(t,i=2){return this.color.r=Math.pow(t.color.r,i),this.color.g=Math.pow(t.color.g,i),this.color.b=Math.pow(t.color.b,i),this}copyLinearToGamma(t,i=2){const e=i>0?1/i:1;return this.color.r=Math.pow(t.color.r,e),this.color.g=Math.pow(t.color.g,e),this.color.b=Math.pow(t.color.b,e),this}convertGammaToLinear(t){return this.copyGammaToLinear(this,t),this}convertLinearToGamma(t){return this.copyLinearToGamma(this,t),this}copySRGBToLinear(t){return this.color.r=rt(t.color.r),this.color.g=rt(t.color.g),this.color.b=rt(t.color.b),this}copyLinearToSRGB(t){return this.color.r=at(t.color.r),this.color.g=at(t.color.g),this.color.b=at(t.color.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}}class E{constructor(t,i,e,s){this.r=isNaN(+t)?255:Math.max(0,Math.min(255,+t)),this.g=isNaN(+i)?255:Math.max(0,Math.min(255,+i)),this.b=isNaN(+e)?255:Math.max(0,Math.min(255,+e)),M(s)?this.opacity=isNaN(+s)?1:Math.max(0,Math.min(1,+s)):this.opacity=1}formatHex(){return`#${U(this.r)+U(this.g)+U(this.b)+(this.opacity===1?"":U(255*this.opacity))}`}formatRgb(){const t=this.opacity;return`${t===1?"rgb(":"rgba("}${this.r},${this.g},${this.b}${t===1?")":`,${t})`}`}formatHsl(){const t=this.opacity,{h:i,s:e,l:s}=xt(this.r,this.g,this.b);return`${t===1?"hsl(":"hsla("}${i},${e}%,${s}%${t===1?")":`,${t})`}`}toString(){return this.formatHex()}}function Ie(n){let t="",i="",e="";const s=n[0]==="#"?1:0;for(let r=s;r<n.length;r++)n[r]!=="#"&&(r<s+2?t+=n[r]:r<s+4?i+=n[r]:r<s+6&&(e+=n[r]));return[parseInt(t,16),parseInt(i,16),parseInt(e,16)]}function Pe(n,t,i){return Number((1<<24)+(n<<16)+(t<<8)+i).toString(16).slice(1)}function Le(n,t){const i=n.r,e=t.r,s=n.g,r=t.g,a=n.b,h=t.b,o=n.opacity,c=t.opacity;return l=>{const u=Math.round(i*(1-l)+e*l),f=Math.round(s*(1-l)+r*l),y=Math.round(a*(1-l)+h*l);return new E(u,f,y,o*(1-l)+c*l)}}const Oe=Object.freeze(Object.defineProperty({__proto__:null,Color:R,DEFAULT_COLORS:$,RGB:E,hexToRgb:Ie,hslToRgb:ft,interpolateRgb:Le,rgbToHex:Pe,rgbToHsl:xt},Symbol.toStringTag,{value:"Module"}));function Un(n){if(kt(n))return[n,n,n,n];if(A(n)){const t=n.length;if(t===1){const i=n[0];return[i,i,i,i]}if(t===2){const[i,e]=n;return[i,e,i,e]}if(t===3){const[i,e,s]=n;return[i,e,s,e]}if(t===4)return n}if(gt(n)){const{top:t=0,right:i=0,bottom:e=0,left:s=0}=n;return[t,i,e,s]}return[0,0,0,0]}var b;(function(n){n.Identity="identity",n.Linear="linear",n.Log="log",n.Pow="pow",n.Sqrt="sqrt",n.Symlog="symlog",n.Time="time",n.Quantile="quantile",n.Quantize="quantize",n.Threshold="threshold",n.Ordinal="ordinal",n.Point="point",n.Band="band"})(b||(b={}));const Ht={};Object.values(b).forEach(n=>{Ht[n]=!0});function Xn(n){switch(n){case b.Linear:case b.Log:case b.Pow:case b.Sqrt:case b.Symlog:case b.Time:return!0;default:return!1}}function Gn(n){return!!Ht[n]}function $n(n){switch(n){case b.Ordinal:case b.Point:case b.Band:return!0;default:return!1}}function O(n){return n}const Yn=n=>n<0?-Math.sqrt(-n):Math.sqrt(n),Zn=n=>n<0?-n*n:n*n,Qn=n=>-Math.log(-n),Jn=n=>-Math.exp(-n),De=n=>isFinite(n)?Math.pow(10,n):n<0?0:n,Kn=n=>n===10?De:n===Math.E?Math.exp:t=>Math.pow(n,t),ti=n=>n===Math.E?Math.log:n===10?Math.log10:n===2?Math.log2:(n=Math.log(n),t=>Math.log(t)/n),ei=n=>t=>Math.sign(t)*Math.log1p(Math.abs(t/n)),ni=n=>t=>Math.sign(t)*Math.expm1(Math.abs(t))*n;function dt(n,t){if(n=Number(n),t=Number(t),t-=n)return e=>(e-n)/t;const i=Number.isNaN(t)?NaN:.5;return()=>i}function Rt(n,t,i){const e=n[0],s=n[1],r=t[0],a=t[1];let h,o;return s<e?(h=dt(s,e),o=i(a,r)):(h=dt(e,s),o=i(r,a)),c=>o(h(c))}function Vt(n,t,i){let e;return e=n===1?n+2*i:n-t+2*i,n?e>0?e:1:0}function ii(n,t,i,e){return i===1&&(i=0),Vt(n,i,e)*(t/(1-i))}function si(n,t,i,e,s){const r=Vt(n,i,e);let a=t/Math.max(1,r||1);s&&(a=Math.floor(a));let h=a*(1-i);return s&&(h=Math.round(h)),h}function He(n,t){const i=(n[1]-n[0])/(t[1]-t[0]),e=n[0]-i*t[0];return[e,i+e]}function Ve(n,t,i){const e=Math.min(n.length,t.length)-1,s=new Array(e),r=new Array(e);let a=-1;for(n[e]<n[0]&&(n=n.slice().reverse(),t=t.slice().reverse());++a<e;)s[a]=dt(n[a],n[a+1]),r[a]=i(t[a],t[a+1]);return function(h){const o=fe(n,h,1,e)-1;return r[o](s[o](h))}}const ri=(n,t)=>{const i=n.slice();let e=0,s=i.length-1,r=i[e],a=i[s];return a<r&&([e,s]=[s,e],[r,a]=[a,r]),i[e]=t.floor(r),i[s]=t.ceil(a),i},zt=(n,t=!1)=>{const i=Math.floor(Math.log10(n)),e=n/Math.pow(10,i);let s;return s=t?e<1.5?1:e<3?2:e<7?5:10:e<=1?1:e<=2?2:e<=5?5:10,s*Math.pow(10,i)},ze=(n,t)=>{let i,e;return t[0]<t[1]?(i=t[0],e=t[1]):(i=t[1],e=t[0]),Math.min(Math.max(n,i),e)};class qe{constructor(){this._rangeFactorStart=null,this._rangeFactorEnd=null}_calculateWholeRange(t){return this._wholeRange?this._wholeRange:M(this._rangeFactorStart)&&M(this._rangeFactorEnd)&&t.length===2?(this._wholeRange=He(t,[this._rangeFactorStart,this._rangeFactorEnd]),this._wholeRange):t}rangeFactor(t,i,e){return t?(t.length===2&&t.every(s=>s>=0&&s<=1)&&(this._wholeRange=null,t[0]===0&&t[1]===1?(this._rangeFactorStart=null,this._rangeFactorEnd=null):(this._rangeFactorStart=t[0],this._rangeFactorEnd=t[1])),this):e?(this._wholeRange=null,this._rangeFactorStart=null,this._rangeFactorEnd=null,this):M(this._rangeFactorStart)&&M(this._rangeFactorEnd)?[this._rangeFactorStart,this._rangeFactorEnd]:null}rangeFactorStart(t,i){var e;return g(t)?this._rangeFactorStart:(t>=0&&t<=1&&(this._wholeRange=null,t!==0||!g(this._rangeFactorEnd)&&this._rangeFactorEnd!==1?(this._rangeFactorStart=t,this._rangeFactorEnd=(e=this._rangeFactorEnd)!==null&&e!==void 0?e:1):(this._rangeFactorStart=null,this._rangeFactorEnd=null)),this)}rangeFactorEnd(t,i){var e;return g(t)?this._rangeFactorEnd:(t>=0&&t<=1&&(this._wholeRange=null,t!==0||!g(this._rangeFactorStart)&&this._rangeFactorStart!==0?(this._rangeFactorEnd=t,this._rangeFactorStart=(e=this._rangeFactorStart)!==null&&e!==void 0?e:0):(this._rangeFactorStart=null,this._rangeFactorEnd=null)),this)}generateFishEyeTransform(){var t;if(!this._fishEyeOptions)return void(this._fishEyeTransform=null);const{distortion:i=2,radiusRatio:e=.1,radius:s}=this._fishEyeOptions,r=this.range(),a=r[0],h=r[r.length-1],o=Math.min(a,h),c=Math.max(a,h),l=It((t=this._fishEyeOptions.focus)!==null&&t!==void 0?t:0,o,c),u=g(s)?(c-o)*e:s;let f=Math.exp(i);f=f/(f-1)*u;const y=i/u;this._fishEyeTransform=d=>{const m=Math.abs(d-l);if(m>=u)return d;if(m<=1e-6)return l;const p=f*(1-Math.exp(-m*y))/m*.75+.25;return l+(d-l)*p}}unknown(t){return arguments.length?(this._unknown=t,this):this._unknown}get(t,i){var e;return(e=this==null?void 0:this[t])!==null&&e!==void 0?e:i}}const{interpolateRgb:ht}=Oe;function We(n,t){const i=typeof t;let e;if(g(t)||i==="boolean")return()=>t;if(i==="number")return H(n,t);if(i==="string"){if(e=R.parseColorString(t)){const s=ht(R.parseColorString(n),e);return r=>s(r).formatRgb()}return H(Number(n),Number(t))}return t instanceof E?ht(n,t):t instanceof R?ht(n.color,t.color):t instanceof Date?_e(n,t):H(Number(n),Number(t))}class je extends qe{constructor(t=O,i=O){super(),this._unknown=void 0,this.transformer=t,this.untransformer=i,this._forceAlign=!0,this._domain=[0,1],this._range=[0,1],this._clamp=O,this._piecewise=Rt,this._interpolate=We}calculateVisibleDomain(t){var i;return M(this._rangeFactorStart)&&M(this._rangeFactorEnd)&&t.length===2?[this.invert(t[0]),this.invert(t[1])]:(i=this._niceDomain)!==null&&i!==void 0?i:this._domain}fishEye(t,i,e){return t||e?(this._fishEyeOptions=t,this._fishEyeTransform=null,this.rescale(i)):this._fishEyeOptions}scale(t){var i;if(t=Number(t),Number.isNaN(t)||this._domainValidator&&!this._domainValidator(t))return this._unknown;this._output||(this._output=this._piecewise(((i=this._niceDomain)!==null&&i!==void 0?i:this._domain).map(this.transformer),this._calculateWholeRange(this._range),this._interpolate));const e=this._output(this.transformer(this._clamp(t)));return this._fishEyeTransform?this._fishEyeTransform(e):e}invert(t){var i;return this._input||(this._input=this._piecewise(this._calculateWholeRange(this._range),((i=this._niceDomain)!==null&&i!==void 0?i:this._domain).map(this.transformer),H)),this._clamp(this.untransformer(this._input(t)))}domain(t,i){var e;if(!t)return((e=this._niceDomain)!==null&&e!==void 0?e:this._domain).slice();this._domainValidator=null,this._niceType=null,this._niceDomain=null;const s=Array.from(t,le);return this._domain=s,this.rescale(i)}range(t,i){if(!t)return this._range.slice();const e=Array.from(t);return this._range=e,this.rescale(i)}rangeRound(t,i){const e=Array.from(t);return this._range=e,this._interpolate=Me,this.rescale(i)}rescale(t){var i;if(t)return this;const e=(i=this._niceDomain)!==null&&i!==void 0?i:this._domain,s=e.length,r=this._range.length;let a=Math.min(s,r);if(s&&s<r&&this._forceAlign){const h=r-s+1,o=e[s-1],c=s>=2?(o-e[s-2])/h:0;for(let l=1;l<=h;l++)e[s-2+l]=o-c*(h-l);a=r}return this._autoClamp&&(this._clamp=ye(e[0],e[a-1])),this._piecewise=a>2?Ve:Rt,this._output=this._input=null,this._wholeRange=null,this.generateFishEyeTransform(),this}clamp(t,i,e){return arguments.length?(i?(this._autoClamp=!1,this._clamp=i):(this._autoClamp=!!t,this._clamp=t?void 0:O),this.rescale(e)):this._clamp!==O}interpolate(t,i){return arguments.length?(this._interpolate=t,this.rescale(i)):this._interpolate}ticks(t=10){return[]}tickData(t=10){const i=this.ticks(t);return(i??[]).map((e,s)=>({index:s,tick:e,value:(this.scale(e)-this._range[0])/(this._range[1]-this._range[0])}))}rangeFactor(t,i){return t?(super.rangeFactor(t),this._output=this._input=null,this):super.rangeFactor()}rangeFactorStart(t,i){return g(t)?super.rangeFactorStart():(super.rangeFactorStart(t),this._output=this._input=null,this)}rangeFactorEnd(t,i){return g(t)?super.rangeFactorEnd():(super.rangeFactorEnd(t),this._output=this._input=null,this)}forceAlignDomainRange(t){return arguments.length?(this._forceAlign=t,this):this._forceAlign}}const Ue=Math.sqrt(50),Xe=Math.sqrt(10),Ge=Math.sqrt(2),X=[1,2,5,10],Bt=(n,t,i)=>{let e=1,s=n;const r=Math.floor((t-1)/2),a=Math.abs(n);return n>=0&&n<=Number.MIN_VALUE?s=0:n<0&&n>=-Number.MIN_VALUE?s=-(t-1):!i&&a<1?e=qt(a).step:(i||a>1)&&(s=Math.floor(n)-r*e),e>0?(n>0?s=Math.max(s,0):n<0&&(s=Math.min(s,-(t-1)*e)),oe(0,t).map(h=>s+h*e)):n>0?J(0,-(t-1)/e,e):J((t-1)/e,0,e)},$e=V((n,t,i,e)=>{let s,r,a,h,o=-1;if(i=+i,(n=+n)==(t=+t))return[n];if(Math.abs(n-t)<=Number.MIN_VALUE&&i>0)return[n];if((s=t<n)&&(r=n,n=t,t=r),h=wt(n,t,i).step,!isFinite(h))return[];if(h>0){let c=Math.round(n/h),l=Math.round(t/h);for(c*h<n&&++c,l*h>t&&--l,a=new Array(r=l-c+1);++o<r;)a[o]=(c+o)*h}else if(h<0&&(e!=null&&e.noDecimals)){h=1;const c=Math.ceil(n),l=Math.floor(t);if(!(c<=l))return[];for(a=new Array(r=l-c+1);++o<r;)a[o]=c+o}else{h=-h;let c=Math.round(n*h),l=Math.round(t*h);for(c/h<n&&++c,l/h>t&&--l,a=new Array(r=l-c+1);++o<r;)a[o]=(c+o)/h}return s&&a.reverse(),a}),J=(n,t,i)=>{let e,s,r=-1;if(i>0){let a=Math.floor(n/i),h=Math.ceil(t/i);for((a+1)*i<n&&++a,(h-1)*i>t&&--h,s=new Array(e=h-a+1);++r<e;)s[r]=(a+r)*i}else{i=-i;let a=Math.floor(n*i),h=Math.ceil(t*i);for((a+1)/i<n&&++a,(h-1)/i>t&&--h,s=new Array(e=h-a+1);++r<e;)s[r]=(a+r)/i}return s},Ye=(n,t,i)=>{let e;const s=n[0],r=n[n.length-1],a=t-n.length;if(r<=0){const c=[];for(e=a;e>=1;e--)c.push(s-e*i);return c.concat(n)}if(s>=0){for(e=1;e<=a;e++)n.push(r+e*i);return n}let h=[];const o=[];for(e=1;e<=a;e++)e%2==0?h=[s-Math.floor(e/2)*i].concat(h):o.push(r+Math.ceil(e/2)*i);return h.concat(n).concat(o)},K=V((n,t,i,e)=>{let s,r,a;if(i=+i,(n=+n)==(t=+t)||Math.abs(n-t)<=Number.MIN_VALUE&&i>0)return Bt(n,i,e==null?void 0:e.noDecimals);(s=t<n)&&(a=n,n=t,t=a);const h=wt(n,t,i);let o=h.step;if(!isFinite(o))return[];if(o>0){let c=1;const{power:l,gap:u}=h,f=u===10?2*10**l:1*10**l;for(;c<=5&&(r=J(n,t,o),r.length>i+1)&&i>2;)o+=f,c+=1;i>2&&r.length<i-1&&(r=Ye(r,i,o))}else e!=null&&e.noDecimals&&o<0&&(o=1),r=J(n,t,o);return s&&r.reverse(),r}),qt=n=>{const t=Math.floor(Math.log(n)/Math.LN10),i=n/10**t;let e=X[0];return i>=Ue?e=X[3]:i>=Xe?e=X[2]:i>=Ge&&(e=X[1]),t>=0?{step:e*10**t,gap:e,power:t}:{step:-(10**-t)/e,gap:e,power:t}};function wt(n,t,i){const e=(t-n)/Math.max(0,i);return qt(e)}function Wt(n,t,i){let e;if(i=+i,(n=+n)==(t=+t)&&i>0)return[n];if(i<=0||(e=Ze(n,t,i))===0||!isFinite(e))return[];const s=new Array(i);for(let r=0;r<i;r++)s[r]=n+r*e;return s}function Ze(n,t,i){return(t-n)/Math.max(1,i-1)}function Qe(n,t,i){let e,s,r=-1;if(i=+i,(s=(t=+t)<(n=+n))&&(e=n,n=t,t=e),!isFinite(i)||t-n<=i)return[n];const a=Math.floor((t-n)/i+1),h=new Array(a);for(;++r<a;)h[r]=n+r*i;return s&&h.reverse(),h}function ot(n,t=10){let i,e,s=0,r=n.length-1,a=n[s],h=n[r],o=10;for(h<a&&(e=a,a=h,h=e,e=s,s=r,r=e);o-- >0;){if(e=wt(a,h,t).step,e===i)return n[s]=a,n[r]=h,n;if(e>0)a=Math.floor(a/e)*e,h=Math.ceil(h/e)*e;else{if(!(e<0))break;a=Math.ceil(a*e)/e,h=Math.floor(h*e)/e}i=e}}function Je(n,t){const i=w(t.forceMin),e=w(t.forceMax);let s=null;const r=[];let a=null;const h=i&&e?o=>o>=t.forceMin&&o<=t.forceMax:i?o=>o>=t.forceMin:e?o=>o<=t.forceMax:null;return i?r[0]=t.forceMin:w(t.min)&&t.min<=Math.min(n[0],n[n.length-1])&&(r[0]=t.min),e?r[1]=t.forceMax:w(t.max)&&t.max>=Math.max(n[0],n[n.length-1])&&(r[1]=t.max),w(r[0])&&w(r[1])?(a=n.slice(),a[0]=r[0],a[a.length-1]=r[1]):s=w(r[0])||w(r[1])?w(r[0])?"max":"min":"all",{niceType:s,niceDomain:a,niceMinMax:r,domainValidator:h}}const ct=(n,t,i)=>Math.abs(t-n)<1?+i.toFixed(1):Math.round(+i),ai=V((n,t,i,e,s,r,a)=>{let h=n,o=t;const c=o<h;c&&([h,o]=[o,h]);let l,u,f=s(h),y=s(o),d=[];if(!(e%1)&&y-f<i){if(f=Math.floor(f),y=Math.ceil(y),h>0){for(;f<=y;++f)for(l=1;l<e;++l)if(u=f<0?l/r(-f):l*r(f),!(u<h)){if(u>o)break;d.push(u)}}else for(;f<=y;++f)for(l=e-1;l>=1;--l)if(u=f>0?l/r(-f):l*r(f),!(u<h)){if(u>o)break;d.push(u)}2*d.length<i&&(d=K(h,o,i))}else d=K(f,y,Math.min(y-f,i)).map(r);return d=d.filter(m=>m!==0),a!=null&&a.noDecimals&&(d=Array.from(new Set(d.map(m=>Math.floor(m))))),c?d.reverse():d}),hi=V((n,t,i,e,s,r)=>{const a=[],h={},o=s(n),c=s(t);let l=[];if(Number.isInteger(e))l=K(o,c,i);else{const u=(c-o)/(i-1);for(let f=0;f<i;f++)l.push(o+f*u)}return l.forEach(u=>{const f=r(u),y=Number.isInteger(e)?ct(n,t,f):ct(n,t,zt(f)),d=ct(n,t,ze(y,[n,t]));!h[d]&&!isNaN(d)&&l.length>1&&(h[d]=1,a.push(d))}),a}),oi=V((n,t,i,e,s)=>Wt(e(n),e(t),i).map(r=>zt(s(r))));class jt extends je{constructor(){super(...arguments),this.type=b.Linear}clone(){return new jt().domain(this._domain,!0).range(this._range,!0).unknown(this._unknown).clamp(this.clamp(),null,!0).interpolate(this._interpolate)}tickFormat(){return()=>{}}d3Ticks(t=10,i){const e=this.calculateVisibleDomain(this._range);return $e(e[0],e[e.length-1],t,i)}ticks(t=10,i){var e;if(Xt(i==null?void 0:i.customTicks))return i.customTicks(this,t);if(M(this._rangeFactorStart)&&M(this._rangeFactorEnd)&&(this._rangeFactorStart>0||this._rangeFactorEnd<1)&&this._range.length===2||!this._niceType)return this.d3Ticks(t,i);const s=(e=this._niceDomain)!==null&&e!==void 0?e:this._domain,r=this._domain,a=s[0],h=s[s.length-1];let o=K(r[0],r[r.length-1],t,i);if(!o.length)return o;if(this._domainValidator)o=o.filter(this._domainValidator);else if((o[0]!==a||o[o.length-1]!==h)&&this._niceType){const c=s.slice();if(this._niceType==="all"?(c[0]=o[0],c[c.length-1]=o[o.length-1],this._niceDomain=c,this.rescale()):this._niceType==="min"&&o[0]!==a?(c[0]=o[0],this._niceDomain=c,this.rescale()):this._niceType==="max"&&o[o.length-1]!==h&&(c[c.length-1]=o[o.length-1],this._niceDomain=c,this.rescale()),this._niceType!=="all"){const l=Math.min(c[0],c[c.length-1]),u=Math.max(c[0],c[c.length-1]);o=o.filter(f=>f>=l&&f<=u)}}return o}forceTicks(t=10){const i=this.calculateVisibleDomain(this._range);return Wt(i[0],i[i.length-1],t)}stepTicks(t){const i=this.calculateVisibleDomain(this._range);return Qe(i[0],i[i.length-1],t)}nice(t=10,i){var e,s;const r=this._domain;let a=[];if(i){const h=Je(r,i);if(a=h.niceMinMax,this._domainValidator=h.domainValidator,this._niceType=h.niceType,h.niceDomain)return this._niceDomain=h.niceDomain,this.rescale(),this}else this._niceType="all";if(this._niceType){const h=ot(r.slice(),t);this._niceType==="min"?h[h.length-1]=(e=a[1])!==null&&e!==void 0?e:h[h.length-1]:this._niceType==="max"&&(h[0]=(s=a[0])!==null&&s!==void 0?s:h[0]),this._niceDomain=h,this.rescale()}return this}niceMin(t=10){this._niceType="min";const i=this._domain[this._domain.length-1],e=ot(this.domain(),t);return e&&(e[e.length-1]=i,this._niceDomain=e,this.rescale()),this}niceMax(t=10){this._niceType="max";const i=this._domain[0],e=ot(this._domain.slice(),t);return e&&(e[0]=i,this._niceDomain=e,this.rescale()),this}}export{Fn as $,qn as A,pt as B,Ct as C,an as D,tn as E,Se as F,Ee as G,Nn as H,It as I,w as J,Q as K,T as L,G as M,R as N,Ot as O,Mt as P,Wn as Q,en as R,nn as S,B as T,An as U,nt as V,jn as W,Fe as X,fn as Y,ke as Z,j as _,$t as a,mn as a$,bn as a0,tt as a1,Dn as a2,Vn as a3,rn as a4,vn as a5,Mn as a6,Un as a7,pe as a8,_n as a9,Kn as aA,Qn as aB,Jn as aC,O as aD,ai as aE,hi as aF,oi as aG,jt as aH,Yn as aI,Zn as aJ,ei as aK,ni as aL,fe as aM,Xn as aN,un as aO,ln as aP,de as aQ,xt as aR,ft as aS,Ft as aT,$n as aU,N as aV,Gn as aW,Rn as aX,Bn as aY,Pn as aZ,Cn as a_,Ie as aa,Et as ab,sn as ac,Hn as ad,In as ae,ae as af,Ln as ag,yn as ah,pn as ai,Lt as aj,he as ak,cn as al,Be as am,on as an,xn as ao,qe as ap,b as aq,ye as ar,Vt as as,He as at,si as au,ii as av,Je as aw,ri as ax,je as ay,ti as az,mt as b,gn as b0,oe as b1,On as b2,dn as b3,Xt as c,A as d,ce as e,kt as f,Re as g,D as h,M as i,ee as j,gt as k,Ut as l,En as m,hn as n,g as o,zn as p,q,Ae as r,Z as s,le as t,kn as u,St as v,Sn as w,Tn as x,wn as y,W as z};
