import{_ as pn,a as yn}from"./table-header-operation.vue_vue_type_script_setup_true_lang-CceyS1md.js";import{d as se,a2 as D,aS as Bt,aT as Le,r as W,s as kn,bW as st,bX as xn,aV as wn,a8 as Nn,a as z,bY as _n,aU as ee,i as Rn,aG as Cn,aY as Qe,bZ as Pt,a7 as Sn,Q as H,V as ve,S as V,U as Nt,R as Ie,aA as Be,b_ as Dn,W as Kn,Y as Tn,X as Lt,b$ as An,b5 as _t,c0 as Ue,aQ as $,bb as Ze,ak as pe,aJ as Je,aZ as ze,c1 as Rt,c2 as In,bo as le,bf as Bn,Z as ct,a1 as Pn,a5 as Ct,a$ as Ln,c3 as St,b4 as Dt,ai as Pe,aj as je,$ as y,c4 as ye,o as me,c as Ne,w as R,f as h,g as de,t as oe,h as g,e as Kt,c5 as Tt,al as Ft,B as _e,bT as vt,bV as Fn,c6 as En,c7 as On,c8 as $n,c9 as Mn,ca as Un,cb as zn,cc as jn,cd as Hn,ag as ut,b as Et,I as Vn,J as qn,ap as we,ae as Gn,ce as Wn,cf as Yn,N as Ot,am as Xn,an as Qn,ao as Zn,H as $t,x as Jn,bO as el,K as tl,cg as nl,ch as ll,aq as ol}from"./index-DatkZRbF.js";import{u as al,a as il}from"./table-C3ATyK3E.js";import{s as Mt,b as rl}from"./business-cw982MEc.js";import{u as dl,a as sl}from"./form-x_OFTNP-.js";import{N as He}from"./Space-CI4Nw6uS.js";import{_ as cl,a as Ut}from"./FormItem-C7758XXs.js";import{_ as ul,a as fl,N as hl}from"./DataTable-DMOCqobO.js";import{_ as vl,a as ml}from"./round-refresh-D0U2Bnw5.js";import{_ as gl}from"./Grid-UXeFur27.js";import{_ as bl,a as pl}from"./CollapseItem-BZSLyfdP.js";import{N as yl}from"./Popconfirm-BqwKHHew.js";import"./get-slot-Bk_rJcZu.js";import"./Pagination-qfxkEyuV.js";function zt(e){return typeof e=="string"?`s-${e}`:`n-${e}`}const kl=se({name:"Switcher",render(){return D("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32"},D("path",{d:"M12 8l10 8l-10 8z"}))}}),jt=Bt("n-tree-select");function At({position:e,offsetLevel:n,indent:i,el:c}){const u={position:"absolute",boxSizing:"border-box",right:0};if(e==="inside")u.left=0,u.top=0,u.bottom=0,u.borderRadius="inherit",u.boxShadow="inset 0 0 0 2px var(--n-drop-mark-color)";else{const r=e==="before"?"top":"bottom";u[r]=0,u.left=`${c.offsetLeft+6-n*i}px`,u.height="2px",u.backgroundColor="var(--n-drop-mark-color)",u.transformOrigin=r,u.borderRadius="1px",u.transform=e==="before"?"translateY(-4px)":"translateY(4px)"}return D("div",{style:u})}function xl({dropPosition:e,node:n}){return n.isLeaf===!1||n.children?!0:e!=="inside"}const Ve=Bt("n-tree");function wl({props:e,fNodesRef:n,mergedExpandedKeysRef:i,mergedSelectedKeysRef:c,mergedCheckedKeysRef:u,handleCheck:r,handleSelect:N,handleSwitcherClick:f}){const{value:k}=c,p=Le(jt,null),x=p?p.pendingNodeKeyRef:W(k.length?k[k.length-1]:null);function w(d){var C;if(!e.keyboard)return{enterBehavior:null};const{value:_}=x;let S=null;if(_===null){if((d.key==="ArrowDown"||d.key==="ArrowUp")&&d.preventDefault(),["ArrowDown","ArrowUp","ArrowLeft","ArrowRight"].includes(d.key)&&_===null){const{value:o}=n;let a=0;for(;a<o.length;){if(!o[a].disabled){x.value=o[a].key;break}a+=1}}}else{const{value:o}=n;let a=o.findIndex(K=>K.key===_);if(!~a)return{enterBehavior:null};if(d.key==="Enter"){const K=o[a];switch(S=((C=e.overrideDefaultNodeClickBehavior)===null||C===void 0?void 0:C.call(e,{option:K.rawNode}))||null,S){case"toggleCheck":r(K,!u.value.includes(K.key));break;case"toggleSelect":N(K);break;case"toggleExpand":f(K);break;case"none":break;case"default":default:S="default",N(K)}}else if(d.key==="ArrowDown")for(d.preventDefault(),a+=1;a<o.length;){if(!o[a].disabled){x.value=o[a].key;break}a+=1}else if(d.key==="ArrowUp")for(d.preventDefault(),a-=1;a>=0;){if(!o[a].disabled){x.value=o[a].key;break}a-=1}else if(d.key==="ArrowLeft"){const K=o[a];if(K.isLeaf||!i.value.includes(_)){const T=K.getParent();T&&(x.value=T.key)}else f(K)}else if(d.key==="ArrowRight"){const K=o[a];if(K.isLeaf)return{enterBehavior:null};if(!i.value.includes(_))f(K);else for(a+=1;a<o.length;){if(!o[a].disabled){x.value=o[a].key;break}a+=1}}}return{enterBehavior:S}}return{pendingNodeKeyRef:x,handleKeydown:w}}const Nl=se({name:"NTreeNodeCheckbox",props:{clsPrefix:{type:String,required:!0},indent:{type:Number,required:!0},right:Boolean,focusable:Boolean,disabled:Boolean,checked:Boolean,indeterminate:Boolean,onCheck:Function},setup(e){const n=Le(Ve);function i(u){const{onCheck:r}=e;r&&r(u)}function c(u){i(u)}return{handleUpdateValue:c,mergedTheme:n.mergedThemeRef}},render(){const{clsPrefix:e,mergedTheme:n,checked:i,indeterminate:c,disabled:u,focusable:r,indent:N,handleUpdateValue:f}=this;return D("span",{class:[`${e}-tree-node-checkbox`,this.right&&`${e}-tree-node-checkbox--right`],style:{width:`${N}px`},"data-checkbox":!0},D(kn,{focusable:r,disabled:u,theme:n.peers.Checkbox,themeOverrides:n.peerOverrides.Checkbox,checked:i,indeterminate:c,onUpdateChecked:f}))}}),_l=se({name:"TreeNodeContent",props:{clsPrefix:{type:String,required:!0},disabled:Boolean,checked:Boolean,selected:Boolean,onClick:Function,onDragstart:Function,tmNode:{type:Object,required:!0},nodeProps:Object},setup(e){const{renderLabelRef:n,renderPrefixRef:i,renderSuffixRef:c,labelFieldRef:u}=Le(Ve),r=W(null);function N(k){const{onClick:p}=e;p&&p(k)}function f(k){N(k)}return{selfRef:r,renderLabel:n,renderPrefix:i,renderSuffix:c,labelField:u,handleClick:f}},render(){const{clsPrefix:e,labelField:n,nodeProps:i,checked:c=!1,selected:u=!1,renderLabel:r,renderPrefix:N,renderSuffix:f,handleClick:k,onDragstart:p,tmNode:{rawNode:x,rawNode:{prefix:w,suffix:d,[n]:C}}}=this;return D("span",Object.assign({},i,{ref:"selfRef",class:[`${e}-tree-node-content`,i==null?void 0:i.class],onClick:k,draggable:p===void 0?void 0:!0,onDragstart:p}),N||w?D("div",{class:`${e}-tree-node-content__prefix`},N?N({option:x,selected:u,checked:c}):st(w)):null,D("div",{class:`${e}-tree-node-content__text`},r?r({option:x,selected:u,checked:c}):st(C)),f||d?D("div",{class:`${e}-tree-node-content__suffix`},f?f({option:x,selected:u,checked:c}):st(d)):null)}}),Rl=se({name:"NTreeSwitcher",props:{clsPrefix:{type:String,required:!0},indent:{type:Number,required:!0},expanded:Boolean,selected:Boolean,hide:Boolean,loading:Boolean,onClick:Function,tmNode:{type:Object,required:!0}},setup(e){const{renderSwitcherIconRef:n}=Le(Ve,null);return()=>{const{clsPrefix:i,expanded:c,hide:u,indent:r,onClick:N}=e;return D("span",{"data-switcher":!0,class:[`${i}-tree-node-switcher`,c&&`${i}-tree-node-switcher--expanded`,u&&`${i}-tree-node-switcher--hide`],style:{width:`${r}px`},onClick:N},D("div",{class:`${i}-tree-node-switcher__icon`},D(xn,null,{default:()=>{if(e.loading)return D(wn,{clsPrefix:i,key:"loading",radius:85,strokeWidth:20});const{value:f}=n;return f?f({expanded:e.expanded,selected:e.selected,option:e.tmNode.rawNode}):D(Nn,{clsPrefix:i,key:"switcher"},{default:()=>D(kl,null)})}})))}}});function Cl(e){return z(()=>e.leafOnly?"child":e.checkStrategy)}function be(e,n){return!!e.rawNode[n]}function Ht(e,n,i,c){e==null||e.forEach(u=>{i(u),Ht(u[n],n,i,c),c(u)})}function Sl(e,n,i,c,u){const r=new Set,N=new Set,f=[];return Ht(e,c,k=>{if(f.push(k),u(n,k)){N.add(k[i]);for(let p=f.length-2;p>=0;--p)if(!r.has(f[p][i]))r.add(f[p][i]);else return}},()=>{f.pop()}),{expandedKeys:Array.from(r),highlightKeySet:N}}if(_n&&Image){const e=new Image;e.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="}function Dl(e,n,i,c,u){const r=new Set,N=new Set,f=new Set,k=[],p=[],x=[];function w(C){C.forEach(_=>{if(x.push(_),n(i,_)){r.add(_[c]),f.add(_[c]);for(let o=x.length-2;o>=0;--o){const a=x[o][c];if(!N.has(a))N.add(a),r.has(a)&&r.delete(a);else break}}const S=_[u];S&&w(S),x.pop()})}w(e);function d(C,_){C.forEach(S=>{const o=S[c],a=r.has(o),K=N.has(o);if(!a&&!K)return;const T=S[u];if(T)if(a)_.push(S);else{k.push(o);const I=Object.assign(Object.assign({},S),{[u]:[]});_.push(I),d(T,I[u])}else _.push(S)})}return d(e,p),{filteredTree:p,highlightKeySet:f,expandedKeys:k}}const Vt=se({name:"TreeNode",props:{clsPrefix:{type:String,required:!0},tmNode:{type:Object,required:!0}},setup(e){const n=Le(Ve),{droppingNodeParentRef:i,droppingMouseNodeRef:c,draggingNodeRef:u,droppingPositionRef:r,droppingOffsetLevelRef:N,nodePropsRef:f,indentRef:k,blockLineRef:p,checkboxPlacementRef:x,checkOnClickRef:w,disabledFieldRef:d,showLineRef:C,renderSwitcherIconRef:_,overrideDefaultNodeClickBehaviorRef:S}=n,o=ee(()=>!!e.tmNode.rawNode.checkboxDisabled),a=ee(()=>be(e.tmNode,d.value)),K=ee(()=>n.disabledRef.value||a.value),T=z(()=>{const{value:v}=f;if(v)return v({option:e.tmNode.rawNode})}),I=W(null),Q={value:null};Rn(()=>{Q.value=I.value.$el});function B(){const v=()=>{const{tmNode:A}=e;if(!A.isLeaf&&!A.shallowLoaded){if(!n.loadingKeysRef.value.has(A.key))n.loadingKeysRef.value.add(A.key);else return;const{onLoadRef:{value:U}}=n;U&&U(A.rawNode).then(G=>{G!==!1&&n.handleSwitcherClick(A)}).finally(()=>{n.loadingKeysRef.value.delete(A.key)})}else n.handleSwitcherClick(A)};_.value?setTimeout(v,0):v()}const P=ee(()=>!a.value&&n.selectableRef.value&&(n.internalTreeSelect?n.mergedCheckStrategyRef.value!=="child"||n.multipleRef.value&&n.cascadeRef.value||e.tmNode.isLeaf:!0)),M=ee(()=>n.checkableRef.value&&(n.cascadeRef.value||n.mergedCheckStrategyRef.value!=="child"||e.tmNode.isLeaf)),E=ee(()=>n.displayedCheckedKeysRef.value.includes(e.tmNode.key)),Y=ee(()=>{const{value:v}=M;if(!v)return!1;const{value:A}=w,{tmNode:U}=e;return typeof A=="boolean"?!U.disabled&&A:A(e.tmNode.rawNode)});function q(v){const{value:A}=n.expandOnClickRef,{value:U}=P,{value:G}=Y;if(!U&&!A&&!G||Qe(v,"checkbox")||Qe(v,"switcher"))return;const{tmNode:J}=e;U&&n.handleSelect(J),A&&!J.isLeaf&&B(),G&&Z(!E.value)}function ke(v){var A,U;if(!(Qe(v,"checkbox")||Qe(v,"switcher"))){if(!K.value){const G=S.value;let J=!1;if(G)switch(G({option:e.tmNode.rawNode})){case"toggleCheck":J=!0,Z(!E.value);break;case"toggleSelect":J=!0,n.handleSelect(e.tmNode);break;case"toggleExpand":J=!0,B(),J=!0;break;case"none":J=!0,J=!0;return}J||q(v)}(U=(A=T.value)===null||A===void 0?void 0:A.onClick)===null||U===void 0||U.call(A,v)}}function Fe(v){p.value||ke(v)}function te(v){p.value&&ke(v)}function Z(v){n.handleCheck(e.tmNode,v)}function fe(v){n.handleDragStart({event:v,node:e.tmNode})}function Ee(v){v.currentTarget===v.target&&n.handleDragEnter({event:v,node:e.tmNode})}function ae(v){v.preventDefault(),n.handleDragOver({event:v,node:e.tmNode})}function L(v){n.handleDragEnd({event:v,node:e.tmNode})}function Oe(v){v.currentTarget===v.target&&n.handleDragLeave({event:v,node:e.tmNode})}function et(v){v.preventDefault(),r.value!==null&&n.handleDrop({event:v,node:e.tmNode,dropPosition:r.value})}const tt=z(()=>{const{clsPrefix:v}=e,{value:A}=k;if(C.value){const U=[];let G=e.tmNode.parent;for(;G;)G.isLastChild?U.push(D("div",{class:`${v}-tree-node-indent`},D("div",{style:{width:`${A}px`}}))):U.push(D("div",{class:[`${v}-tree-node-indent`,`${v}-tree-node-indent--show-line`]},D("div",{style:{width:`${A}px`}}))),G=G.parent;return U.reverse()}else return Cn(e.tmNode.level,D("div",{class:`${e.clsPrefix}-tree-node-indent`},D("div",{style:{width:`${A}px`}})))});return{showDropMark:ee(()=>{const{value:v}=u;if(!v)return;const{value:A}=r;if(!A)return;const{value:U}=c;if(!U)return;const{tmNode:G}=e;return G.key===U.key}),showDropMarkAsParent:ee(()=>{const{value:v}=i;if(!v)return!1;const{tmNode:A}=e,{value:U}=r;return U==="before"||U==="after"?v.key===A.key:!1}),pending:ee(()=>n.pendingNodeKeyRef.value===e.tmNode.key),loading:ee(()=>n.loadingKeysRef.value.has(e.tmNode.key)),highlight:ee(()=>{var v;return(v=n.highlightKeySetRef.value)===null||v===void 0?void 0:v.has(e.tmNode.key)}),checked:E,indeterminate:ee(()=>n.displayedIndeterminateKeysRef.value.includes(e.tmNode.key)),selected:ee(()=>n.mergedSelectedKeysRef.value.includes(e.tmNode.key)),expanded:ee(()=>n.mergedExpandedKeysRef.value.includes(e.tmNode.key)),disabled:K,checkable:M,mergedCheckOnClick:Y,checkboxDisabled:o,selectable:P,expandOnClick:n.expandOnClickRef,internalScrollable:n.internalScrollableRef,draggable:n.draggableRef,blockLine:p,nodeProps:T,checkboxFocusable:n.internalCheckboxFocusableRef,droppingPosition:r,droppingOffsetLevel:N,indent:k,checkboxPlacement:x,showLine:C,contentInstRef:I,contentElRef:Q,indentNodes:tt,handleCheck:Z,handleDrop:et,handleDragStart:fe,handleDragEnter:Ee,handleDragOver:ae,handleDragEnd:L,handleDragLeave:Oe,handleLineClick:te,handleContentClick:Fe,handleSwitcherClick:B}},render(){const{tmNode:e,clsPrefix:n,checkable:i,expandOnClick:c,selectable:u,selected:r,checked:N,highlight:f,draggable:k,blockLine:p,indent:x,indentNodes:w,disabled:d,pending:C,internalScrollable:_,nodeProps:S,checkboxPlacement:o}=this,a=k&&!d?{onDragenter:this.handleDragEnter,onDragleave:this.handleDragLeave,onDragend:this.handleDragEnd,onDrop:this.handleDrop,onDragover:this.handleDragOver}:void 0,K=_?zt(e.key):void 0,T=o==="right",I=i?D(Nl,{indent:x,right:T,focusable:this.checkboxFocusable,disabled:d||this.checkboxDisabled,clsPrefix:n,checked:this.checked,indeterminate:this.indeterminate,onCheck:this.handleCheck}):null;return D("div",Object.assign({class:`${n}-tree-node-wrapper`},a),D("div",Object.assign({},p?S:void 0,{class:[`${n}-tree-node`,{[`${n}-tree-node--selected`]:r,[`${n}-tree-node--checkable`]:i,[`${n}-tree-node--highlight`]:f,[`${n}-tree-node--pending`]:C,[`${n}-tree-node--disabled`]:d,[`${n}-tree-node--selectable`]:u,[`${n}-tree-node--clickable`]:u||c||this.mergedCheckOnClick},S==null?void 0:S.class],"data-key":K,draggable:k&&p,onClick:this.handleLineClick,onDragstart:k&&p&&!d?this.handleDragStart:void 0}),w,e.isLeaf&&this.showLine?D("div",{class:[`${n}-tree-node-indent`,`${n}-tree-node-indent--show-line`,e.isLeaf&&`${n}-tree-node-indent--is-leaf`,e.isLastChild&&`${n}-tree-node-indent--last-child`]},D("div",{style:{width:`${x}px`}})):D(Rl,{clsPrefix:n,expanded:this.expanded,selected:r,loading:this.loading,hide:e.isLeaf,tmNode:this.tmNode,indent:x,onClick:this.handleSwitcherClick}),T?null:I,D(_l,{ref:"contentInstRef",clsPrefix:n,checked:N,selected:r,onClick:this.handleContentClick,nodeProps:p?void 0:S,onDragstart:k&&!p&&!d?this.handleDragStart:void 0,tmNode:e}),k?this.showDropMark?At({el:this.contentElRef.value,position:this.droppingPosition,offsetLevel:this.droppingOffsetLevel,indent:x}):this.showDropMarkAsParent?At({el:this.contentElRef.value,position:"inside",offsetLevel:this.droppingOffsetLevel,indent:x}):null:null,T?I:null))}}),Kl=se({name:"TreeMotionWrapper",props:{clsPrefix:{type:String,required:!0},height:Number,nodes:{type:Array,required:!0},mode:{type:String,required:!0},onAfterEnter:{type:Function,required:!0}},render(){const{clsPrefix:e}=this;return D(Sn,{onAfterEnter:this.onAfterEnter,appear:!0,reverse:this.mode==="collapse"},{default:()=>D("div",{class:[`${e}-tree-motion-wrapper`,`${e}-tree-motion-wrapper--${this.mode}`],style:{height:Pt(this.height)}},this.nodes.map(n=>D(Vt,{clsPrefix:e,tmNode:n})))})}}),ft=Dn(),Tl=H("tree",`
 font-size: var(--n-font-size);
 outline: none;
`,[ve("ul, li",`
 margin: 0;
 padding: 0;
 list-style: none;
 `),ve(">",[H("tree-node",[ve("&:first-child","margin-top: 0;")])]),H("tree-motion-wrapper",[V("expand",[Nt({duration:"0.2s"})]),V("collapse",[Nt({duration:"0.2s",reverse:!0})])]),H("tree-node-wrapper",`
 box-sizing: border-box;
 padding: var(--n-node-wrapper-padding);
 `),H("tree-node",`
 transform: translate3d(0,0,0);
 position: relative;
 display: flex;
 border-radius: var(--n-node-border-radius);
 transition: background-color .3s var(--n-bezier);
 `,[V("highlight",[H("tree-node-content",[Ie("text","border-bottom-color: var(--n-node-text-color-disabled);")])]),V("disabled",[H("tree-node-content",`
 color: var(--n-node-text-color-disabled);
 cursor: not-allowed;
 `)]),Be("disabled",[V("clickable",[H("tree-node-content",`
 cursor: pointer;
 `)])])]),V("block-node",[H("tree-node-content",`
 flex: 1;
 min-width: 0;
 `)]),Be("block-line",[H("tree-node",[Be("disabled",[H("tree-node-content",[ve("&:hover","background: var(--n-node-color-hover);")]),V("selectable",[H("tree-node-content",[ve("&:active","background: var(--n-node-color-pressed);")])]),V("pending",[H("tree-node-content",`
 background: var(--n-node-color-hover);
 `)]),V("selected",[H("tree-node-content","background: var(--n-node-color-active);")])]),V("selected",[H("tree-node-content","background: var(--n-node-color-active);")])])]),V("block-line",[H("tree-node",[Be("disabled",[ve("&:hover","background: var(--n-node-color-hover);"),V("pending",`
 background: var(--n-node-color-hover);
 `),V("selectable",[Be("selected",[ve("&:active","background: var(--n-node-color-pressed);")])]),V("selected","background: var(--n-node-color-active);")]),V("selected","background: var(--n-node-color-active);"),V("disabled",`
 cursor: not-allowed;
 `)])]),H("tree-node-indent",`
 flex-grow: 0;
 flex-shrink: 0;
 `,[V("show-line","position: relative",[ve("&::before",`
 position: absolute;
 left: 50%;
 border-left: 1px solid var(--n-line-color);
 transition: border-color .3s var(--n-bezier);
 transform: translate(-50%);
 content: "";
 top: var(--n-line-offset-top);
 bottom: var(--n-line-offset-bottom);
 `),V("last-child",[ve("&::before",`
 bottom: 50%;
 `)]),V("is-leaf",[ve("&::after",`
 position: absolute;
 content: "";
 left: calc(50% + 0.5px);
 right: 0;
 bottom: 50%;
 transition: border-color .3s var(--n-bezier);
 border-bottom: 1px solid var(--n-line-color);
 `)])]),Be("show-line","height: 0;")]),H("tree-node-switcher",`
 cursor: pointer;
 display: inline-flex;
 flex-shrink: 0;
 height: var(--n-node-content-height);
 align-items: center;
 justify-content: center;
 transition: transform .15s var(--n-bezier);
 vertical-align: bottom;
 `,[Ie("icon",`
 position: relative;
 height: 14px;
 width: 14px;
 display: flex;
 color: var(--n-arrow-color);
 transition: color .3s var(--n-bezier);
 font-size: 14px;
 `,[H("icon",[ft]),H("base-loading",`
 color: var(--n-loading-color);
 position: absolute;
 left: 0;
 top: 0;
 right: 0;
 bottom: 0;
 `,[ft]),H("base-icon",[ft])]),V("hide","visibility: hidden;"),V("expanded","transform: rotate(90deg);")]),H("tree-node-checkbox",`
 display: inline-flex;
 height: var(--n-node-content-height);
 vertical-align: bottom;
 align-items: center;
 justify-content: center;
 `),H("tree-node-content",`
 user-select: none;
 position: relative;
 display: inline-flex;
 align-items: center;
 min-height: var(--n-node-content-height);
 box-sizing: border-box;
 line-height: var(--n-line-height);
 vertical-align: bottom;
 padding: 0 6px 0 4px;
 cursor: default;
 border-radius: var(--n-node-border-radius);
 color: var(--n-node-text-color);
 transition:
 color .3s var(--n-bezier),
 background-color .3s var(--n-bezier),
 border-color .3s var(--n-bezier);
 `,[ve("&:last-child","margin-bottom: 0;"),Ie("prefix",`
 display: inline-flex;
 margin-right: 8px;
 `),Ie("text",`
 border-bottom: 1px solid #0000;
 transition: border-color .3s var(--n-bezier);
 flex-grow: 1;
 max-width: 100%;
 `),Ie("suffix",`
 display: inline-flex;
 `)]),Ie("empty","margin: auto;")]);var Al=function(e,n,i,c){function u(r){return r instanceof i?r:new i(function(N){N(r)})}return new(i||(i=Promise))(function(r,N){function f(x){try{p(c.next(x))}catch(w){N(w)}}function k(x){try{p(c.throw(x))}catch(w){N(w)}}function p(x){x.done?r(x.value):u(x.value).then(f,k)}p((c=c.apply(e,[])).next())})};function It(e,n,i,c){return{getIsGroup(){return!1},getKey(r){return r[e]},getChildren:c||(r=>r[n]),getDisabled(r){return!!(r[i]||r.checkboxDisabled)}}}const Il={allowCheckingNotLoaded:Boolean,filter:Function,defaultExpandAll:Boolean,expandedKeys:Array,keyField:{type:String,default:"key"},labelField:{type:String,default:"label"},childrenField:{type:String,default:"children"},disabledField:{type:String,default:"disabled"},defaultExpandedKeys:{type:Array,default:()=>[]},indeterminateKeys:Array,renderSwitcherIcon:Function,onUpdateIndeterminateKeys:[Function,Array],"onUpdate:indeterminateKeys":[Function,Array],onUpdateExpandedKeys:[Function,Array],"onUpdate:expandedKeys":[Function,Array],overrideDefaultNodeClickBehavior:Function},Bl=Object.assign(Object.assign(Object.assign(Object.assign({},Lt.props),{accordion:Boolean,showIrrelevantNodes:{type:Boolean,default:!0},data:{type:Array,default:()=>[]},expandOnDragenter:{type:Boolean,default:!0},expandOnClick:Boolean,checkOnClick:{type:[Boolean,Function],default:!1},cancelable:{type:Boolean,default:!0},checkable:Boolean,draggable:Boolean,blockNode:Boolean,blockLine:Boolean,showLine:Boolean,disabled:Boolean,checkedKeys:Array,defaultCheckedKeys:{type:Array,default:()=>[]},selectedKeys:Array,defaultSelectedKeys:{type:Array,default:()=>[]},multiple:Boolean,pattern:{type:String,default:""},onLoad:Function,cascade:Boolean,selectable:{type:Boolean,default:!0},scrollbarProps:Object,indent:{type:Number,default:24},allowDrop:{type:Function,default:xl},animated:{type:Boolean,default:!0},checkboxPlacement:{type:String,default:"left"},virtualScroll:Boolean,watchProps:Array,renderLabel:Function,renderPrefix:Function,renderSuffix:Function,nodeProps:Function,keyboard:{type:Boolean,default:!0},getChildren:Function,onDragenter:[Function,Array],onDragleave:[Function,Array],onDragend:[Function,Array],onDragstart:[Function,Array],onDragover:[Function,Array],onDrop:[Function,Array],onUpdateCheckedKeys:[Function,Array],"onUpdate:checkedKeys":[Function,Array],onUpdateSelectedKeys:[Function,Array],"onUpdate:selectedKeys":[Function,Array]}),Il),{internalTreeSelect:Boolean,internalScrollable:Boolean,internalScrollablePadding:String,internalRenderEmpty:Function,internalHighlightKeySet:Object,internalUnifySelectCheck:Boolean,internalCheckboxFocusable:{type:Boolean,default:!0},internalFocusable:{type:Boolean,default:!0},checkStrategy:{type:String,default:"all"},leafOnly:Boolean}),mt=se({name:"Tree",props:Bl,setup(e){const{mergedClsPrefixRef:n,inlineThemeDisabled:i,mergedRtlRef:c}=Kn(e),u=Tn("Tree",c,n),r=Lt("Tree","-tree",Tl,An,e,n),N=W(null),f=W(null),k=W(null);function p(){var t;return(t=k.value)===null||t===void 0?void 0:t.listElRef}function x(){var t;return(t=k.value)===null||t===void 0?void 0:t.itemsElRef}const w=z(()=>{const{filter:t}=e;if(t)return t;const{labelField:l}=e;return(s,m)=>{if(!s.length)return!0;const b=m[l];return typeof b=="string"?b.toLowerCase().includes(s.toLowerCase()):!1}}),d=z(()=>{const{pattern:t}=e;return t?!t.length||!w.value?{filteredTree:e.data,highlightKeySet:null,expandedKeys:void 0}:Dl(e.data,w.value,t,e.keyField,e.childrenField):{filteredTree:e.data,highlightKeySet:null,expandedKeys:void 0}}),C=z(()=>_t(e.showIrrelevantNodes?e.data:d.value.filteredTree,It(e.keyField,e.childrenField,e.disabledField,e.getChildren))),_=Le(jt,null),S=e.internalTreeSelect?_.dataTreeMate:z(()=>e.showIrrelevantNodes?C.value:_t(e.data,It(e.keyField,e.childrenField,e.disabledField,e.getChildren))),{watchProps:o}=e,a=W([]);o!=null&&o.includes("defaultCheckedKeys")?Ue(()=>{a.value=e.defaultCheckedKeys}):a.value=e.defaultCheckedKeys;const K=$(e,"checkedKeys"),T=Ze(K,a),I=z(()=>S.value.getCheckedKeys(T.value,{cascade:e.cascade,allowNotLoaded:e.allowCheckingNotLoaded})),Q=Cl(e),B=z(()=>I.value.checkedKeys),P=z(()=>{const{indeterminateKeys:t}=e;return t!==void 0?t:I.value.indeterminateKeys}),M=W([]);o!=null&&o.includes("defaultSelectedKeys")?Ue(()=>{M.value=e.defaultSelectedKeys}):M.value=e.defaultSelectedKeys;const E=$(e,"selectedKeys"),Y=Ze(E,M),q=W([]),ke=t=>{q.value=e.defaultExpandAll?S.value.getNonLeafKeys():t===void 0?e.defaultExpandedKeys:t};o!=null&&o.includes("defaultExpandedKeys")?Ue(()=>{ke(void 0)}):Ue(()=>{ke(e.defaultExpandedKeys)});const Fe=$(e,"expandedKeys"),te=Ze(Fe,q),Z=z(()=>C.value.getFlattenedNodes(te.value)),{pendingNodeKeyRef:fe,handleKeydown:Ee}=wl({props:e,mergedCheckedKeysRef:T,mergedSelectedKeysRef:Y,fNodesRef:Z,mergedExpandedKeysRef:te,handleCheck:it,handleSelect:rt,handleSwitcherClick:pt});let ae=null,L=null;const Oe=W(new Set),et=z(()=>e.internalHighlightKeySet||d.value.highlightKeySet),tt=Ze(et,Oe),v=W(new Set),A=z(()=>te.value.filter(t=>!v.value.has(t)));let U=0;const G=W(null),J=W(null),qe=W(null),Ge=W(null),We=W(0),qt=z(()=>{const{value:t}=J;return t?t.parent:null});let nt=!1;pe($(e,"data"),()=>{nt=!0,Je(()=>{nt=!1}),v.value.clear(),fe.value=null,Me()},{deep:!1});let lt=!1;const ot=()=>{lt=!0,Je(()=>{lt=!1})};let $e;pe($(e,"pattern"),(t,l)=>{if(e.showIrrelevantNodes)if($e=void 0,t){const{expandedKeys:s,highlightKeySet:m}=Sl(e.data,e.pattern,e.keyField,e.childrenField,w.value);Oe.value=m,ot(),Ce(s,ie(s),{node:null,action:"filter"})}else Oe.value=new Set;else if(!t.length)$e!==void 0&&(ot(),Ce($e,ie($e),{node:null,action:"filter"}));else{l.length||($e=te.value);const{expandedKeys:s}=d.value;s!==void 0&&(ot(),Ce(s,ie(s),{node:null,action:"filter"}))}});function gt(t){return Al(this,void 0,void 0,function*(){const{onLoad:l}=e;if(!l){yield Promise.resolve();return}const{value:s}=v;if(!s.has(t.key)){s.add(t.key);try{(yield l(t.rawNode))===!1&&Se()}catch(m){console.error(m),Se()}s.delete(t.key)}})}Ue(()=>{var t;const{value:l}=C;if(!l)return;const{getNode:s}=l;(t=te.value)===null||t===void 0||t.forEach(m=>{const b=s(m);b&&!b.shallowLoaded&&gt(b)})});const Re=W(!1),ge=W([]);pe(A,(t,l)=>{if(!e.animated||lt){Je(Ye);return}if(nt)return;const s=ze(r.value.self.nodeHeight),m=new Set(l);let b=null,j=null;for(const O of t)if(!m.has(O)){if(b!==null)return;b=O}const ne=new Set(t);for(const O of l)if(!ne.has(O)){if(j!==null)return;j=O}if(b===null&&j===null)return;const{virtualScroll:re}=e,Ke=(re?k.value.listElRef:N.value).offsetHeight,Te=Math.ceil(Ke/s)+1;let ce;if(b!==null&&(ce=l),j!==null&&(ce===void 0?ce=t:ce=ce.filter(O=>O!==j)),Re.value=!0,ge.value=C.value.getFlattenedNodes(ce),b!==null){const O=ge.value.findIndex(ue=>ue.key===b);if(~O){const ue=ge.value[O].children;if(ue){const he=Rt(ue,t);ge.value.splice(O+1,0,{__motion:!0,mode:"expand",height:re?he.length*s:void 0,nodes:re?he.slice(0,Te):he})}}}if(j!==null){const O=ge.value.findIndex(ue=>ue.key===j);if(~O){const ue=ge.value[O].children;if(!ue)return;Re.value=!0;const he=Rt(ue,t);ge.value.splice(O+1,0,{__motion:!0,mode:"collapse",height:re?he.length*s:void 0,nodes:re?he.slice(0,Te):he})}}});const Gt=z(()=>In(Z.value)),Wt=z(()=>Re.value?ge.value:Z.value);function Ye(){const{value:t}=f;t&&t.sync()}function Yt(){Re.value=!1,e.virtualScroll&&Je(Ye)}function ie(t){const{getNode:l}=S.value;return t.map(s=>{var m;return((m=l(s))===null||m===void 0?void 0:m.rawNode)||null})}function Ce(t,l,s){const{"onUpdate:expandedKeys":m,onUpdateExpandedKeys:b}=e;q.value=t,m&&le(m,t,l,s),b&&le(b,t,l,s)}function bt(t,l,s){const{"onUpdate:checkedKeys":m,onUpdateCheckedKeys:b}=e;a.value=t,b&&le(b,t,l,s),m&&le(m,t,l,s)}function Xt(t,l){const{"onUpdate:indeterminateKeys":s,onUpdateIndeterminateKeys:m}=e;s&&le(s,t,l),m&&le(m,t,l)}function at(t,l,s){const{"onUpdate:selectedKeys":m,onUpdateSelectedKeys:b}=e;M.value=t,b&&le(b,t,l,s),m&&le(m,t,l,s)}function Qt(t){const{onDragenter:l}=e;l&&le(l,t)}function Zt(t){const{onDragleave:l}=e;l&&le(l,t)}function Jt(t){const{onDragend:l}=e;l&&le(l,t)}function en(t){const{onDragstart:l}=e;l&&le(l,t)}function tn(t){const{onDragover:l}=e;l&&le(l,t)}function nn(t){const{onDrop:l}=e;l&&le(l,t)}function Me(){ln(),xe()}function ln(){G.value=null}function xe(){We.value=0,J.value=null,qe.value=null,Ge.value=null,Se()}function Se(){ae&&(window.clearTimeout(ae),ae=null),L=null}function it(t,l){if(e.disabled||be(t,e.disabledField))return;if(e.internalUnifySelectCheck&&!e.multiple){rt(t);return}const s=l?"check":"uncheck",{checkedKeys:m,indeterminateKeys:b}=S.value[s](t.key,B.value,{cascade:e.cascade,checkStrategy:Q.value,allowNotLoaded:e.allowCheckingNotLoaded});bt(m,ie(m),{node:t.rawNode,action:s}),Xt(b,ie(b))}function on(t){if(e.disabled)return;const{key:l}=t,{value:s}=te,m=s.findIndex(b=>b===l);if(~m){const b=Array.from(s);b.splice(m,1),Ce(b,ie(b),{node:t.rawNode,action:"collapse"})}else{const b=C.value.getNode(l);if(!b||b.isLeaf)return;let j;if(e.accordion){const ne=new Set(t.siblings.map(({key:re})=>re));j=s.filter(re=>!ne.has(re)),j.push(l)}else j=s.concat(l);Ce(j,ie(j),{node:t.rawNode,action:"expand"})}}function pt(t){e.disabled||Re.value||on(t)}function rt(t){if(!(e.disabled||!e.selectable)){if(fe.value=t.key,e.internalUnifySelectCheck){const{value:{checkedKeys:l,indeterminateKeys:s}}=I;e.multiple?it(t,!(l.includes(t.key)||s.includes(t.key))):bt([t.key],ie([t.key]),{node:t.rawNode,action:"check"})}if(e.multiple){const l=Array.from(Y.value),s=l.findIndex(m=>m===t.key);~s?e.cancelable&&l.splice(s,1):~s||l.push(t.key),at(l,ie(l),{node:t.rawNode,action:~s?"unselect":"select"})}else Y.value.includes(t.key)?e.cancelable&&at([],[],{node:t.rawNode,action:"unselect"}):at([t.key],ie([t.key]),{node:t.rawNode,action:"select"})}}function an(t){if(ae&&(window.clearTimeout(ae),ae=null),t.isLeaf)return;L=t.key;const l=()=>{if(L!==t.key)return;const{value:s}=qe;if(s&&s.key===t.key&&!te.value.includes(t.key)){const m=te.value.concat(t.key);Ce(m,ie(m),{node:t.rawNode,action:"expand"})}ae=null,L=null};t.shallowLoaded?ae=window.setTimeout(()=>{l()},1e3):ae=window.setTimeout(()=>{gt(t).then(()=>{l()})},1e3)}function rn({event:t,node:l}){!e.draggable||e.disabled||be(l,e.disabledField)||(yt({event:t,node:l},!1),Qt({event:t,node:l.rawNode}))}function dn({event:t,node:l}){!e.draggable||e.disabled||be(l,e.disabledField)||Zt({event:t,node:l.rawNode})}function sn(t){t.target===t.currentTarget&&xe()}function cn({event:t,node:l}){Me(),!(!e.draggable||e.disabled||be(l,e.disabledField))&&Jt({event:t,node:l.rawNode})}function un({event:t,node:l}){!e.draggable||e.disabled||be(l,e.disabledField)||(U=t.clientX,G.value=l,en({event:t,node:l.rawNode}))}function yt({event:t,node:l},s=!0){var m;if(!e.draggable||e.disabled||be(l,e.disabledField))return;const{value:b}=G;if(!b)return;const{allowDrop:j,indent:ne}=e;s&&tn({event:t,node:l.rawNode});const re=t.currentTarget,{height:Ke,top:Te}=re.getBoundingClientRect(),ce=t.clientY-Te;let O;j({node:l.rawNode,dropPosition:"inside",phase:"drag"})?ce<=8?O="before":ce>=Ke-8?O="after":O="inside":ce<=Ke/2?O="before":O="after";const{value:he}=Gt;let F,X;const Ae=he(l.key);if(Ae===null){xe();return}let Xe=!1;O==="inside"?(F=l,X="inside"):O==="before"?l.isFirstChild?(F=l,X="before"):(F=Z.value[Ae-1],X="after"):(F=l,X="after"),!F.isLeaf&&te.value.includes(F.key)&&(Xe=!0,X==="after"&&(F=Z.value[Ae+1],F?X="before":(F=l,X="inside")));const xt=F;if(qe.value=xt,!Xe&&b.isLastChild&&b.key===F.key&&(X="after"),X==="after"){let wt=U-t.clientX,dt=0;for(;wt>=ne/2&&F.parent!==null&&F.isLastChild&&dt<1;)wt-=ne,dt+=1,F=F.parent;We.value=dt}else We.value=0;if((b.contains(F)||X==="inside"&&((m=b.parent)===null||m===void 0?void 0:m.key)===F.key)&&!(b.key===xt.key&&b.key===F.key)){xe();return}if(!j({node:F.rawNode,dropPosition:X,phase:"drag"})){xe();return}if(b.key===F.key)Se();else if(L!==F.key)if(X==="inside"){if(e.expandOnDragenter){if(an(F),!F.shallowLoaded&&L!==F.key){Me();return}}else if(!F.shallowLoaded){Me();return}}else Se();else X!=="inside"&&Se();Ge.value=X,J.value=F}function fn({event:t,node:l,dropPosition:s}){if(!e.draggable||e.disabled||be(l,e.disabledField))return;const{value:m}=G,{value:b}=J,{value:j}=Ge;if(!(!m||!b||!j)&&e.allowDrop({node:b.rawNode,dropPosition:j,phase:"drag"})&&m.key!==b.key){if(j==="before"){const ne=m.getNext({includeDisabled:!0});if(ne&&ne.key===b.key){xe();return}}if(j==="after"){const ne=m.getPrev({includeDisabled:!0});if(ne&&ne.key===b.key){xe();return}}nn({event:t,node:b.rawNode,dragNode:m.rawNode,dropPosition:s}),Me()}}function hn(){Ye()}function vn(){Ye()}function mn(t){var l;if(e.virtualScroll||e.internalScrollable){const{value:s}=f;if(!((l=s==null?void 0:s.containerRef)===null||l===void 0)&&l.contains(t.relatedTarget))return;fe.value=null}else{const{value:s}=N;if(s!=null&&s.contains(t.relatedTarget))return;fe.value=null}}pe(fe,t=>{var l,s;if(t!==null){if(e.virtualScroll)(l=k.value)===null||l===void 0||l.scrollTo({key:t});else if(e.internalScrollable){const{value:m}=f;if(m===null)return;const b=(s=m.contentRef)===null||s===void 0?void 0:s.querySelector(`[data-key="${zt(t)}"]`);if(!b)return;m.scrollTo({el:b})}}}),Bn(Ve,{loadingKeysRef:v,highlightKeySetRef:tt,displayedCheckedKeysRef:B,displayedIndeterminateKeysRef:P,mergedSelectedKeysRef:Y,mergedExpandedKeysRef:te,mergedThemeRef:r,mergedCheckStrategyRef:Q,nodePropsRef:$(e,"nodeProps"),disabledRef:$(e,"disabled"),checkableRef:$(e,"checkable"),selectableRef:$(e,"selectable"),expandOnClickRef:$(e,"expandOnClick"),onLoadRef:$(e,"onLoad"),draggableRef:$(e,"draggable"),blockLineRef:$(e,"blockLine"),indentRef:$(e,"indent"),cascadeRef:$(e,"cascade"),checkOnClickRef:$(e,"checkOnClick"),checkboxPlacementRef:e.checkboxPlacement,droppingMouseNodeRef:qe,droppingNodeParentRef:qt,draggingNodeRef:G,droppingPositionRef:Ge,droppingOffsetLevelRef:We,fNodesRef:Z,pendingNodeKeyRef:fe,showLineRef:$(e,"showLine"),disabledFieldRef:$(e,"disabledField"),internalScrollableRef:$(e,"internalScrollable"),internalCheckboxFocusableRef:$(e,"internalCheckboxFocusable"),internalTreeSelect:e.internalTreeSelect,renderLabelRef:$(e,"renderLabel"),renderPrefixRef:$(e,"renderPrefix"),renderSuffixRef:$(e,"renderSuffix"),renderSwitcherIconRef:$(e,"renderSwitcherIcon"),labelFieldRef:$(e,"labelField"),multipleRef:$(e,"multiple"),overrideDefaultNodeClickBehaviorRef:$(e,"overrideDefaultNodeClickBehavior"),handleSwitcherClick:pt,handleDragEnd:cn,handleDragEnter:rn,handleDragLeave:dn,handleDragStart:un,handleDrop:fn,handleDragOver:yt,handleSelect:rt,handleCheck:it});function gn(t,l){var s,m;typeof t=="number"?(s=k.value)===null||s===void 0||s.scrollTo(t,l||0):(m=k.value)===null||m===void 0||m.scrollTo(t)}const bn={handleKeydown:Ee,scrollTo:gn,getCheckedData:()=>{if(!e.checkable)return{keys:[],options:[]};const{checkedKeys:t}=I.value;return{keys:t,options:ie(t)}},getIndeterminateData:()=>{if(!e.checkable)return{keys:[],options:[]};const{indeterminateKeys:t}=I.value;return{keys:t,options:ie(t)}}},kt=z(()=>{const{common:{cubicBezierEaseInOut:t},self:{fontSize:l,nodeBorderRadius:s,nodeColorHover:m,nodeColorPressed:b,nodeColorActive:j,arrowColor:ne,loadingColor:re,nodeTextColor:Ke,nodeTextColorDisabled:Te,dropMarkColor:ce,nodeWrapperPadding:O,nodeHeight:ue,lineHeight:he,lineColor:F}}=r.value,X=ct(O,"top"),Ae=ct(O,"bottom"),Xe=Pt(ze(ue)-ze(X)-ze(Ae));return{"--n-arrow-color":ne,"--n-loading-color":re,"--n-bezier":t,"--n-font-size":l,"--n-node-border-radius":s,"--n-node-color-active":j,"--n-node-color-hover":m,"--n-node-color-pressed":b,"--n-node-text-color":Ke,"--n-node-text-color-disabled":Te,"--n-drop-mark-color":ce,"--n-node-wrapper-padding":O,"--n-line-offset-top":`-${X}`,"--n-line-offset-bottom":`-${Ae}`,"--n-node-content-height":Xe,"--n-line-height":he,"--n-line-color":F}}),De=i?Pn("tree",void 0,kt,e):void 0;return Object.assign(Object.assign({},bn),{mergedClsPrefix:n,mergedTheme:r,rtlEnabled:u,fNodes:Wt,aip:Re,selfElRef:N,virtualListInstRef:k,scrollbarInstRef:f,handleFocusout:mn,handleDragLeaveTree:sn,handleScroll:hn,getScrollContainer:p,getScrollContent:x,handleAfterEnter:Yt,handleResize:vn,cssVars:i?void 0:kt,themeClass:De==null?void 0:De.themeClass,onRender:De==null?void 0:De.onRender})},render(){var e;const{fNodes:n,internalRenderEmpty:i}=this;if(!n.length&&i)return i();const{mergedClsPrefix:c,blockNode:u,blockLine:r,draggable:N,disabled:f,internalFocusable:k,checkable:p,handleKeydown:x,rtlEnabled:w,handleFocusout:d,scrollbarProps:C}=this,_=k&&!f,S=_?"0":void 0,o=[`${c}-tree`,w&&`${c}-tree--rtl`,p&&`${c}-tree--checkable`,(r||u)&&`${c}-tree--block-node`,r&&`${c}-tree--block-line`],a=T=>"__motion"in T?D(Kl,{height:T.height,nodes:T.nodes,clsPrefix:c,mode:T.mode,onAfterEnter:this.handleAfterEnter}):D(Vt,{key:T.key,tmNode:T,clsPrefix:c});if(this.virtualScroll){const{mergedTheme:T,internalScrollablePadding:I}=this,Q=ct(I||"0");return D(St,Object.assign({},C,{ref:"scrollbarInstRef",onDragleave:N?this.handleDragLeaveTree:void 0,container:this.getScrollContainer,content:this.getScrollContent,class:o,theme:T.peers.Scrollbar,themeOverrides:T.peerOverrides.Scrollbar,tabindex:S,onKeydown:_?x:void 0,onFocusout:_?d:void 0}),{default:()=>{var B;return(B=this.onRender)===null||B===void 0||B.call(this),n.length?D(Ln,{ref:"virtualListInstRef",items:this.fNodes,itemSize:ze(T.self.nodeHeight),ignoreItemResize:this.aip,paddingTop:Q.top,paddingBottom:Q.bottom,class:this.themeClass,style:[this.cssVars,{paddingLeft:Q.left,paddingRight:Q.right}],onScroll:this.handleScroll,onResize:this.handleResize,showScrollbar:!1,itemResizable:!0},{default:({item:P})=>a(P)}):Ct(this.$slots.empty,()=>[D(Dt,{class:`${c}-tree__empty`,theme:this.mergedTheme.peers.Empty,themeOverrides:this.mergedTheme.peerOverrides.Empty})])}})}const{internalScrollable:K}=this;return o.push(this.themeClass),(e=this.onRender)===null||e===void 0||e.call(this),K?D(St,Object.assign({},C,{class:o,tabindex:S,onKeydown:_?x:void 0,onFocusout:_?d:void 0,style:this.cssVars,contentStyle:{padding:this.internalScrollablePadding}}),{default:()=>D("div",{onDragleave:N?this.handleDragLeaveTree:void 0,ref:"selfElRef"},this.fNodes.map(a))}):D("div",{class:o,tabindex:S,ref:"selfElRef",style:this.cssVars,onKeydown:_?x:void 0,onFocusout:_?d:void 0,onDragleave:N?this.handleDragLeaveTree:void 0},n.length?n.map(a):Ct(this.$slots.empty,()=>[D(Dt,{class:`${c}-tree__empty`,theme:this.mergedTheme.peers.Empty,themeOverrides:this.mergedTheme.peerOverrides.Empty})]))}}),Pl={class:"flex-y-center gap-16px pb-12px"},Ll=se({name:"MenuAuthModal",__name:"menu-auth-modal",props:Pe({roleId:{},byRoleHomeId:{}},{visible:{type:Boolean,default:!1},visibleModifiers:{}}),emits:["update:visible"],setup(e){const n=e,i=je(e,"visible");function c(){i.value=!1}const u=z(()=>y("common.edit")+y("page.manage.role.menuAuth")),r=ye(0);r.value=0;async function N(o){r.value=o,await Tt({id:n.roleId,byRoleHomeId:o})}const f=ye([]);async function k(){const{error:o,data:a}=await Fn();o||(f.value=a)}const p=z(()=>f.value.map(a=>({label:a.key,value:a.value}))),x=ye([]);async function w(){const{error:o,data:a}=await En();o||(x.value=a)}const d=ye([]);async function C(){const{error:o,data:a}=await On({id:n.roleId});o||(d.value=a.byRoleMenuIds||[1,2,3,4,5],r.value=a.byRoleHomeId||n.byRoleHomeId)}async function _(){var a,K;const{error:o}=await Tt({id:n.roleId,byRoleHomeId:r.value,byRoleMenuIds:d.value});o||(K=(a=window.$message)==null?void 0:a.success)==null||K.call(a,y("common.modifySuccess")),c()}function S(){C(),k(),w()}return pe(i,o=>{o&&S()}),(o,a)=>{const K=Ft,T=mt,I=_e,Q=He,B=vt;return me(),Ne(B,{show:i.value,"onUpdate:show":a[1]||(a[1]=P=>i.value=P),title:u.value,preset:"card",class:"w-480px"},{footer:R(()=>[h(Q,{justify:"end"},{default:R(()=>[h(I,{size:"small",class:"mt-16px",onClick:c},{default:R(()=>[de(oe(g(y)("common.cancel")),1)]),_:1}),h(I,{type:"primary",size:"small",class:"mt-16px",onClick:_},{default:R(()=>[de(oe(g(y)("common.confirm")),1)]),_:1})]),_:1})]),default:R(()=>[Kt("div",Pl,[Kt("div",null,oe(g(y)("page.manage.menu.home")),1),h(K,{value:r.value,options:p.value,size:"small",class:"w-160px",filterable:"",clearable:"","onUpdate:value":N},null,8,["value","options"])]),h(T,{"checked-keys":d.value,"onUpdate:checkedKeys":a[0]||(a[0]=P=>d.value=P),data:x.value,"key-field":"id",cascade:"",checkable:"","expand-on-click":"","virtual-scroll":"","block-line":"",class:"h-280px"},null,8,["checked-keys","data"])]),_:1},8,["show","title"])}}}),Fl=se({name:"ButtonAuthModal",__name:"button-auth-modal",props:Pe({roleId:{}},{visible:{type:Boolean,default:!1},visibleModifiers:{}}),emits:["update:visible"],setup(e){const n=e,i=je(e,"visible");function c(){i.value=!1}const u=z(()=>y("common.edit")+y("page.manage.role.buttonAuth")),r=ye([]);async function N(){r.value=[{id:32,label:"关于",pId:0,children:[{id:2,label:"button1",pId:32}]},{id:26,label:"系统管理",pId:0,children:[{id:27,label:"API管理",pId:26,children:[{id:3,label:"B_refreshAPI",pId:27}]}]}];const{error:w,data:d}=await Mn();w||(r.value=d)}const f=ye([]);async function k(){f.value=[1,2,3];const{error:w,data:d}=await Un({id:n.roleId});w||(f.value=d.byRoleButtonIds||[])}async function p(){var d,C;const{error:w}=await $n({id:n.roleId,byRoleButtonIds:f.value.filter(_=>typeof _=="number")});w||(C=(d=window.$message)==null?void 0:d.success)==null||C.call(d,y("common.modifySuccess")),c()}function x(){k(),N()}return pe(i,w=>{w&&x()}),(w,d)=>{const C=mt,_=_e,S=He,o=vt;return me(),Ne(o,{show:i.value,"onUpdate:show":d[1]||(d[1]=a=>i.value=a),title:u.value,preset:"card",class:"w-480px"},{footer:R(()=>[h(S,{justify:"end"},{default:R(()=>[h(_,{size:"small",class:"mt-16px",onClick:c},{default:R(()=>[de(oe(g(y)("common.cancel")),1)]),_:1}),h(_,{type:"primary",size:"small",class:"mt-16px",onClick:p},{default:R(()=>[de(oe(g(y)("common.confirm")),1)]),_:1})]),_:1})]),default:R(()=>[h(C,{"checked-keys":f.value,"onUpdate:checkedKeys":d[0]||(d[0]=a=>f.value=a),data:r.value,"key-field":"id","default-expand-all":"","block-line":"",cascade:"",checkable:"","expand-on-click":"","virtual-scroll":"",class:"h-280px"},null,8,["checked-keys","data"])]),_:1},8,["show","title"])}}}),El=se({name:"ApiAuthModal",__name:"api-auth-modal",props:Pe({roleId:{}},{visible:{type:Boolean,default:!1},visibleModifiers:{}}),emits:["update:visible"],setup(e){const n=e,i=je(e,"visible");function c(){i.value=!1}const u=z(()=>y("common.edit")+y("page.manage.role.buttonAuth")),r=ye([]);async function N(){r.value=[{id:1,label:"API模块",pId:0,children:[{id:2,label:"查看API模块",pId:1}]},{id:3,label:"基础模块",pId:0,children:[{id:4,label:"获取token",pId:3}]}];const{error:w,data:d}=await jn();w||(r.value=d)}const f=ye([]);async function k(){f.value=[1,2,3,4,5];const{error:w,data:d}=await Hn({id:n.roleId});w||(f.value=d.byRoleApiIds||[])}async function p(){var d,C;const{error:w}=await zn({id:n.roleId,byRoleApiIds:f.value.filter(_=>typeof _=="number")});w||(C=(d=window.$message)==null?void 0:d.success)==null||C.call(d,y("common.modifySuccess")),c()}function x(){k(),N()}return pe(i,w=>{w&&x()}),(w,d)=>{const C=mt,_=_e,S=He,o=vt;return me(),Ne(o,{show:i.value,"onUpdate:show":d[1]||(d[1]=a=>i.value=a),title:u.value,preset:"card",class:"w-480px"},{footer:R(()=>[h(S,{justify:"end"},{default:R(()=>[h(_,{size:"small",class:"mt-16px",onClick:c},{default:R(()=>[de(oe(g(y)("common.cancel")),1)]),_:1}),h(_,{type:"primary",size:"small",class:"mt-16px",onClick:p},{default:R(()=>[de(oe(g(y)("common.confirm")),1)]),_:1})]),_:1})]),default:R(()=>[h(C,{"checked-keys":f.value,"onUpdate:checkedKeys":d[0]||(d[0]=a=>f.value=a),data:r.value,"key-field":"id","label-field":"summary","default-expand-all":"","block-line":"",cascade:"",checkable:"","expand-on-click":"","virtual-scroll":"",class:"h-280px"},null,8,["checked-keys","data"])]),_:1},8,["show","title"])}}}),Ol=se({name:"RoleOperateDrawer",__name:"role-operate-drawer",props:Pe({operateType:{},rowData:{}},{visible:{type:Boolean,default:!1},visibleModifiers:{}}),emits:Pe(["submitted"],["update:visible"]),setup(e,{emit:n}){const i=e,c=n,u=je(e,"visible"),{formRef:r,validate:N,restoreValidation:f}=dl(),{defaultRequiredRule:k}=sl(),{bool:p,setTrue:x}=ut(),{bool:w,setTrue:d}=ut(),{bool:C,setTrue:_}=ut(),S=z(()=>({add:y("page.manage.role.addRole"),edit:y("page.manage.role.editRole")})[i.operateType]),o=W(a());function a(){return{roleName:"",roleCode:"",roleDesc:"",byRoleHomeId:0,statusType:null}}const K={roleName:k,roleCode:k,statusType:k},T=z(()=>{var M;return((M=i.rowData)==null?void 0:M.id)||-1}),I=z(()=>i.operateType==="edit");function Q(){o.value=a(),i.operateType==="edit"&&i.rowData&&Object.assign(o.value,i.rowData)}function B(){u.value=!1}async function P(){var M,E;if(await N(),i.operateType==="add"){const{error:Y}=await Wn(o.value);Y||(M=window.$message)==null||M.success(y("common.addSuccess"))}else if(i.operateType==="edit"){const{error:Y}=await Yn(o.value);Y||(E=window.$message)==null||E.success(y("common.updateSuccess"))}B(),c("submitted")}return pe(u,()=>{u.value&&(Q(),f())}),(M,E)=>{const Y=Ot,q=cl,ke=fl,Fe=ul,te=Ut,Z=_e,fe=He,Ee=Xn,ae=Qn;return me(),Ne(ae,{show:u.value,"onUpdate:show":E[7]||(E[7]=L=>u.value=L),"display-directive":"show",width:360},{default:R(()=>[h(Ee,{title:S.value,"native-scrollbar":!1,closable:""},{footer:R(()=>[h(fe,{size:16},{default:R(()=>[h(Z,{onClick:B},{default:R(()=>[de(oe(g(y)("common.cancel")),1)]),_:1}),h(Z,{type:"primary",onClick:P},{default:R(()=>[de(oe(g(y)("common.confirm")),1)]),_:1})]),_:1})]),default:R(()=>[h(te,{ref_key:"formRef",ref:r,model:o.value,rules:K},{default:R(()=>[h(q,{label:g(y)("page.manage.role.roleName"),path:"roleName"},{default:R(()=>[h(Y,{value:o.value.roleName,"onUpdate:value":E[0]||(E[0]=L=>o.value.roleName=L),placeholder:g(y)("page.manage.role.form.roleName")},null,8,["value","placeholder"])]),_:1},8,["label"]),h(q,{label:g(y)("page.manage.role.roleCode"),path:"roleCode"},{default:R(()=>[h(Y,{value:o.value.roleCode,"onUpdate:value":E[1]||(E[1]=L=>o.value.roleCode=L),placeholder:g(y)("page.manage.role.form.roleCode")},null,8,["value","placeholder"])]),_:1},8,["label"]),h(q,{label:g(y)("page.manage.role.rolestatusType"),path:"status"},{default:R(()=>[h(Fe,{value:o.value.statusType,"onUpdate:value":E[2]||(E[2]=L=>o.value.statusType=L)},{default:R(()=>[(me(!0),Et(qn,null,Vn(g(Mt),L=>(me(),Ne(ke,{key:L.value,value:L.value,label:g(y)(L.label)},null,8,["value","label"]))),128))]),_:1},8,["value"])]),_:1},8,["label"]),h(q,{label:g(y)("page.manage.role.roleDesc"),path:"roleDesc"},{default:R(()=>[h(Y,{value:o.value.roleDesc,"onUpdate:value":E[3]||(E[3]=L=>o.value.roleDesc=L),placeholder:g(y)("page.manage.role.form.roleDesc")},null,8,["value","placeholder"])]),_:1},8,["label"])]),_:1},8,["model"]),I.value?(me(),Ne(fe,{key:0},{default:R(()=>[h(Z,{onClick:g(x)},{default:R(()=>[de(oe(g(y)("page.manage.role.menuAuth")),1)]),_:1},8,["onClick"]),h(Ll,{visible:g(p),"onUpdate:visible":E[4]||(E[4]=L=>we(p)?p.value=L:null),"role-id":T.value,"by-role-home-id":o.value.byRoleHomeId},null,8,["visible","role-id","by-role-home-id"]),h(Z,{onClick:g(d)},{default:R(()=>[de(oe(g(y)("page.manage.role.buttonAuth")),1)]),_:1},8,["onClick"]),h(Fl,{visible:g(w),"onUpdate:visible":E[5]||(E[5]=L=>we(w)?w.value=L:null),"role-id":T.value},null,8,["visible","role-id"]),h(Z,{onClick:g(_)},{default:R(()=>[de(oe(g(y)("page.manage.role.apiAuth")),1)]),_:1},8,["onClick"]),h(El,{visible:g(C),"onUpdate:visible":E[6]||(E[6]=L=>we(C)?C.value=L:null),"role-id":T.value},null,8,["visible","role-id"])]),_:1})):Gn("",!0)]),_:1},8,["title"])]),_:1},8,["show"])}}}),$l=se({name:"RoleSearch",__name:"role-search",props:{model:{required:!0},modelModifiers:{}},emits:Pe(["reset","search"],["update:model"]),setup(e,{emit:n}){const i=n,c=je(e,"model");function u(){i("reset")}function r(){i("search")}return(N,f)=>{const k=Ot,p=pn,x=Ft,w=vl,d=_e,C=ml,_=He,S=gl,o=Ut,a=bl,K=pl,T=$t;return me(),Ne(T,{bordered:!1,size:"small",class:"card-wrapper"},{default:R(()=>[h(K,{"default-expanded-names":["role-search"]},{default:R(()=>[h(a,{title:g(y)("common.search"),name:"role-search"},{default:R(()=>[h(o,{model:c.value,"label-placement":"left","label-width":80},{default:R(()=>[h(S,{responsive:"screen","item-responsive":""},{default:R(()=>[h(p,{span:"24 s:12 m:6",label:g(y)("page.manage.role.roleName"),path:"roleName",class:"pr-24px"},{default:R(()=>[h(k,{value:c.value.roleName,"onUpdate:value":f[0]||(f[0]=I=>c.value.roleName=I),placeholder:g(y)("page.manage.role.form.roleName")},null,8,["value","placeholder"])]),_:1},8,["label"]),h(p,{span:"24 s:12 m:6",label:g(y)("page.manage.role.roleCode"),path:"roleCode",class:"pr-24px"},{default:R(()=>[h(k,{value:c.value.roleCode,"onUpdate:value":f[1]||(f[1]=I=>c.value.roleCode=I),placeholder:g(y)("page.manage.role.form.roleCode")},null,8,["value","placeholder"])]),_:1},8,["label"]),h(p,{span:"24 s:12 m:6",label:g(y)("page.manage.role.rolestatusType"),path:"status",class:"pr-24px"},{default:R(()=>[h(x,{value:c.value.statusType,"onUpdate:value":f[2]||(f[2]=I=>c.value.statusType=I),placeholder:g(y)("page.manage.role.form.rolestatusType"),options:g(Zn)(g(Mt)),filterable:"",clearable:""},null,8,["value","placeholder","options"])]),_:1},8,["label"]),h(p,{span:"24 s:12 m:6"},{default:R(()=>[h(_,{class:"w-full",justify:"end"},{default:R(()=>[h(d,{onClick:u},{icon:R(()=>[h(w,{class:"text-icon"})]),default:R(()=>[de(" "+oe(g(y)("common.reset")),1)]),_:1}),h(d,{type:"primary",ghost:"",onClick:r},{icon:R(()=>[h(C,{class:"text-icon"})]),default:R(()=>[de(" "+oe(g(y)("common.search")),1)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["model"])]),_:1},8,["title"])]),_:1})]),_:1})}}}),Ml={class:"min-h-500px flex-col-stretch gap-16px overflow-hidden lt-sm:overflow-auto"};function ht(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!ol(e)}const to=se({name:"manage_role",__name:"index",setup(e){const n=Jn(),{columns:i,columnChecks:c,data:u,loading:r,getData:N,getDataByPage:f,mobilePagination:k,searchParams:p,resetSearchParams:x}=al({apiFn:el,apiParams:{current:1,size:10,statusType:null,roleName:null,roleCode:null},columns:()=>[{type:"selection",align:"center",width:48},{key:"index",title:y("common.index"),width:64,align:"center"},{key:"roleName",title:y("page.manage.role.roleName"),align:"center",minWidth:120},{key:"roleCode",title:y("page.manage.role.roleCode"),align:"center",minWidth:120},{key:"roleDesc",title:y("page.manage.role.roleDesc"),minWidth:120},{key:"statusType",title:y("page.manage.role.rolestatusType"),align:"center",width:100,render:B=>{if(B.statusType===null)return null;const P={1:"success",2:"warning"},M=y(rl[B.statusType]);return h(tl,{type:P[B.statusType]},ht(M)?M:{default:()=>[M]})}},{key:"operate",title:y("common.operate"),align:"center",width:130,render:B=>{let P;return h("div",{class:"flex-center gap-8px"},[h(_e,{type:"primary",ghost:!0,size:"small",onClick:()=>Q(B.id)},ht(P=y("common.edit"))?P:{default:()=>[P]}),h(yl,{onPositiveClick:()=>I(B.id)},{default:()=>y("common.confirmDelete"),trigger:()=>{let M;return h(_e,{type:"error",ghost:!0,size:"small"},ht(M=y("common.delete"))?M:{default:()=>[M]})}})])}}]}),{drawerVisible:w,operateType:d,editingData:C,handleAdd:_,handleEdit:S,checkedRowKeys:o,onBatchDeleted:a,onDeleted:K}=il(u,N);async function T(){const{error:B}=await nl({ids:o.value});B||a()}async function I(B){const{error:P}=await ll({id:B});P||K()}function Q(B){S(B)}return(B,P)=>{const M=yn,E=hl,Y=$t;return me(),Et("div",Ml,[h($l,{model:g(p),"onUpdate:model":P[0]||(P[0]=q=>we(p)?p.value=q:null),onReset:g(x),onSearch:g(f)},null,8,["model","onReset","onSearch"]),h(Y,{title:g(y)("page.manage.role.title"),bordered:!1,size:"small",class:"sm:flex-1-hidden card-wrapper"},{"header-extra":R(()=>[h(M,{columns:g(c),"onUpdate:columns":P[1]||(P[1]=q=>we(c)?c.value=q:null),"disabled-delete":g(o).length===0,loading:g(r),"table-id":"role",onAdd:g(_),onDelete:T,onRefresh:g(N)},null,8,["columns","disabled-delete","loading","onAdd","onRefresh"])]),default:R(()=>[h(E,{"checked-row-keys":g(o),"onUpdate:checkedRowKeys":P[2]||(P[2]=q=>we(o)?o.value=q:null),columns:g(i),data:g(u),size:"small","flex-height":!g(n).isMobile,"scroll-x":702,loading:g(r),remote:"","row-key":q=>q.id,pagination:g(k),class:"sm:h-full"},null,8,["checked-row-keys","columns","data","flex-height","loading","row-key","pagination"]),h(Ol,{visible:g(w),"onUpdate:visible":P[3]||(P[3]=q=>we(w)?w.value=q:null),"operate-type":g(d),"row-data":g(C),onSubmitted:g(f)},null,8,["visible","operate-type","row-data","onSubmitted"])]),_:1},8,["title"])])}}});export{to as default};
